{"version":3,"file":"vendor.js","mappings":"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","sources":["./node_modules/@module-federation/data-prefetch/dist/index.esm2.js","./node_modules/@module-federation/data-prefetch/dist/plugin.esm.js","./node_modules/@module-federation/data-prefetch/dist/prefetch.esm.js","./node_modules/@module-federation/data-prefetch/dist/runtime-utils.esm.js","./node_modules/@module-federation/data-prefetch/dist/shared.esm.js","./node_modules/@module-federation/runtime/dist/index.cjs.js","./node_modules/@module-federation/runtime/dist/polyfills.cjs.js","./node_modules/@module-federation/runtime/dist/share.cjs.js","./node_modules/@module-federation/sdk/dist/index.cjs.js","./node_modules/@module-federation/sdk/dist/index.esm.js","./node_modules/@module-federation/sdk/dist/polyfills.cjs.js","./node_modules/@module-federation/sdk/dist/polyfills.esm.js","./node_modules/@module-federation/webpack-bundler-runtime/dist/constant.cjs.js","./node_modules/@module-federation/webpack-bundler-runtime/dist/index.cjs.js","./node_modules/@module-federation/webpack-bundler-runtime/dist/polyfills.cjs.js","./node_modules/@nx/webpack/src/utils/module-federation/plugins/runtime-library-control.plugin.js","./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/asyncToGenerator.js","./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import { Logger } from '@module-federation/sdk';\n\nvar logger = new Logger('[Module Federation Data Prefetch]');\n\nexport { logger as l };\n","import { getResourceUrl } from '@module-federation/sdk';\nimport { a as getSignalFromManifest } from './runtime-utils.esm.js';\nimport { M as MFDataPrefetch } from './prefetch.esm.js';\nimport { l as logger } from './index.esm2.js';\nimport '@module-federation/runtime';\n\nconst loadingArray = [];\nconst strategy = 'loaded-first';\nlet sharedFlag = strategy;\n// eslint-disable-next-line max-lines-per-function\nconst prefetchPlugin = ()=>({\n        name: 'data-prefetch-runtime-plugin',\n        initContainer (options) {\n            const { remoteSnapshot, remoteInfo, id, origin } = options;\n            const snapshot = remoteSnapshot;\n            const { name } = remoteInfo;\n            const prefetchOptions = {\n                name,\n                remote: remoteInfo,\n                origin,\n                remoteSnapshot: snapshot\n            };\n            const signal = getSignalFromManifest(snapshot);\n            if (!signal) {\n                return options;\n            }\n            if (sharedFlag !== strategy) {\n                throw new Error(`[Module Federation Data Prefetch]: If you want to use data prefetch, the shared strategy must be 'loaded-first'`);\n            }\n            const instance = MFDataPrefetch.getInstance(name) || new MFDataPrefetch(prefetchOptions);\n            let prefetchUrl;\n            // @ts-expect-error\n            if (snapshot.prefetchEntry) {\n                // @ts-expect-error\n                prefetchUrl = getResourceUrl(snapshot, snapshot.prefetchEntry);\n            }\n            const exist = loadingArray.find((loading)=>loading.id === id);\n            if (exist) {\n                return options;\n            }\n            const promise = instance.loadEntry(prefetchUrl).then(async ()=>{\n                const projectExports = instance.getProjectExports();\n                if (projectExports instanceof Promise) {\n                    await projectExports;\n                }\n                return Promise.resolve().then(()=>{\n                    const exports = instance.getExposeExports(id);\n                    logger.info(`1. Start Prefetch initContainer: ${id} - ${performance.now()}`);\n                    const result = Object.keys(exports).map((k)=>{\n                        const value = instance.prefetch({\n                            id,\n                            functionId: k\n                        });\n                        const functionId = k;\n                        return {\n                            value,\n                            functionId\n                        };\n                    });\n                    return result;\n                });\n            });\n            loadingArray.push({\n                id,\n                promise\n            });\n            return options;\n        },\n        afterResolve (options) {\n            const { remoteSnapshot, remoteInfo, id, origin } = options;\n            const snapshot = remoteSnapshot;\n            const { name } = remoteInfo;\n            const prefetchOptions = {\n                name,\n                remote: remoteInfo,\n                origin,\n                remoteSnapshot: snapshot\n            };\n            const signal = getSignalFromManifest(snapshot);\n            if (!signal) {\n                return options;\n            }\n            const inited = loadingArray.some((info)=>info.id === id);\n            if (!inited) {\n                return options;\n            }\n            if (sharedFlag !== strategy) {\n                throw new Error(`[Module Federation Data Prefetch]: If you want to use data prefetch, the shared strategy must be 'loaded-first'`);\n            }\n            const instance = MFDataPrefetch.getInstance(name) || new MFDataPrefetch(prefetchOptions);\n            let prefetchUrl;\n            // @ts-expect-error\n            if (snapshot.prefetchEntry) {\n                // @ts-expect-error\n                prefetchUrl = getResourceUrl(snapshot, snapshot.prefetchEntry);\n            }\n            const index = loadingArray.findIndex((loading)=>loading.id === id);\n            // clear cache\n            if (index !== -1) {\n                loadingArray.splice(index, 1);\n            }\n            const promise = instance.loadEntry(prefetchUrl).then(async ()=>{\n                const projectExports = instance.getProjectExports();\n                if (projectExports instanceof Promise) {\n                    await projectExports;\n                }\n                return Promise.resolve().then(()=>{\n                    const exports = instance.getExposeExports(id);\n                    logger.info(`1. Start Prefetch afterResolve: ${id} - ${performance.now()}`);\n                    const result = Object.keys(exports).map((k)=>{\n                        const value = instance.prefetch({\n                            id,\n                            functionId: k\n                        });\n                        const functionId = k;\n                        return {\n                            value,\n                            functionId\n                        };\n                    });\n                    return result;\n                });\n            });\n            loadingArray.push({\n                id,\n                promise\n            });\n            return options;\n        },\n        async onLoad (options) {\n            var _loadingArray_find;\n            const { remote, id } = options;\n            const { name } = remote;\n            const promise = (_loadingArray_find = loadingArray.find((loading)=>loading.id === id)) == null ? void 0 : _loadingArray_find.promise;\n            if (promise) {\n                const prefetch = await promise;\n                const prefetchValue = prefetch.map((result)=>result.value);\n                await Promise.all(prefetchValue);\n                const instance = MFDataPrefetch.getInstance(name);\n                prefetch.forEach((result)=>{\n                    const { value, functionId } = result;\n                    instance.memorize(id + functionId, value);\n                });\n            }\n            return options;\n        },\n        beforeLoadShare (options) {\n            const shareInfo = options.shareInfo;\n            sharedFlag = (shareInfo == null ? void 0 : shareInfo.strategy) || sharedFlag;\n            return options;\n        }\n    });\n\nexport { prefetchPlugin as default, prefetchPlugin };\n","import { getRemoteInfo, getRemoteEntry } from '@module-federation/runtime';\nimport { loadScript } from '@module-federation/sdk';\nimport { b as getPrefetchId, c as compatGetPrefetchId } from './runtime-utils.esm.js';\n\nvar // @ts-ignore init global variable for test\n_globalThis, _globalThis___FEDERATION__;\nvar ___FEDERATION__;\n(___FEDERATION__ = (_globalThis = globalThis).__FEDERATION__) != null ? ___FEDERATION__ : _globalThis.__FEDERATION__ = {};\nvar ___PREFETCH__;\n(___PREFETCH__ = (_globalThis___FEDERATION__ = globalThis.__FEDERATION__).__PREFETCH__) != null ? ___PREFETCH__ : _globalThis___FEDERATION__.__PREFETCH__ = {\n    entryLoading: {},\n    instance: new Map(),\n    __PREFETCH_EXPORTS__: {}\n};\nclass MFDataPrefetch {\n    get global() {\n        return globalThis.__FEDERATION__.__PREFETCH__;\n    }\n    static getInstance(id) {\n        return globalThis.__FEDERATION__.__PREFETCH__.instance.get(id);\n    }\n    async loadEntry(entry) {\n        const { name, remoteSnapshot, remote, origin } = this._options;\n        if (entry) {\n            const { buildVersion, globalName } = remoteSnapshot;\n            const uniqueKey = globalName || `${name}:${buildVersion}`;\n            if (!this.global.entryLoading[uniqueKey]) {\n                this.global.entryLoading[uniqueKey] = loadScript(entry, {});\n            }\n            return this.global.entryLoading[uniqueKey];\n        } else {\n            const remoteInfo = getRemoteInfo(remote);\n            const module = origin.moduleCache.get(remoteInfo.name);\n            return getRemoteEntry({\n                origin: origin,\n                remoteInfo,\n                remoteEntryExports: module ? module.remoteEntryExports : undefined\n            });\n        }\n    }\n    getProjectExports() {\n        var _globalThis___FEDERATION_____PREFETCH_____PREFETCH_EXPORTS__;\n        if (Object.keys(this._exports).length > 0) {\n            return this._exports;\n        }\n        const { name } = this._options;\n        const exportsPromiseFn = (_globalThis___FEDERATION_____PREFETCH_____PREFETCH_EXPORTS__ = globalThis.__FEDERATION__.__PREFETCH__.__PREFETCH_EXPORTS__) == null ? void 0 : _globalThis___FEDERATION_____PREFETCH_____PREFETCH_EXPORTS__[name];\n        const exportsPromise = typeof exportsPromiseFn === 'function' ? exportsPromiseFn() : Promise.resolve({});\n        const resolve = exportsPromise.then((exports = {})=>{\n            // Match prefetch based on the function name suffix so that other capabilities can be expanded later.\n            // Not all functions should be directly identified as prefetch functions\n            const memory = {};\n            Object.keys(exports).forEach((key)=>{\n                memory[key] = {};\n                const exportVal = exports[key];\n                Object.keys(exportVal).reduce((memo, current)=>{\n                    if (current.toLocaleLowerCase().endsWith('prefetch') || current.toLocaleLowerCase() === 'default') {\n                        memo[current] = exportVal[current];\n                    }\n                    return memo;\n                }, memory[key]);\n            });\n            this.memorizeExports(memory);\n        });\n        return resolve;\n    }\n    memorizeExports(exports) {\n        this._exports = exports;\n    }\n    getExposeExports(id) {\n        const prefetchId = getPrefetchId(id);\n        const compatId = compatGetPrefetchId(id);\n        const prefetchExports = this._exports[prefetchId] || this._exports[compatId];\n        return prefetchExports || {};\n    }\n    prefetch(prefetchOptions) {\n        const { id, functionId = 'default', refetchParams } = prefetchOptions;\n        let prefetchResult;\n        const prefetchId = getPrefetchId(id);\n        const compatId = compatGetPrefetchId(id);\n        const memorizeId = id + functionId;\n        const memory = this.prefetchMemory.get(memorizeId);\n        if (!this.checkOutdate(prefetchOptions) && memory) {\n            return memory;\n        }\n        const prefetchExports = this._exports[prefetchId] || this._exports[compatId];\n        if (!prefetchExports) {\n            return;\n        }\n        const executePrefetch = prefetchExports[functionId];\n        if (typeof executePrefetch === 'function') {\n            if (refetchParams) {\n                prefetchResult = executePrefetch(refetchParams);\n            } else {\n                prefetchResult = executePrefetch();\n            }\n        } else {\n            throw new Error(`[Module Federation Data Prefetch]: No prefetch function called ${functionId} export in prefetch file`);\n        }\n        this.memorize(memorizeId, prefetchResult);\n        return prefetchResult;\n    }\n    memorize(id, value) {\n        this.prefetchMemory.set(id, value);\n    }\n    markOutdate(markOptions, isOutdate) {\n        const { id, functionId = 'default' } = markOptions;\n        if (!this.recordOutdate[id]) {\n            this.recordOutdate[id] = {};\n        }\n        this.recordOutdate[id][functionId] = isOutdate;\n    }\n    checkOutdate(outdateOptions) {\n        const { id, functionId = 'default', cacheStrategy } = outdateOptions;\n        if (typeof cacheStrategy === 'function') {\n            return cacheStrategy();\n        }\n        if (!this.recordOutdate[id]) {\n            this.recordOutdate[id] = {};\n        }\n        if (this.recordOutdate[id][functionId]) {\n            this.markOutdate({\n                id,\n                functionId\n            }, false);\n            return true;\n        } else {\n            return false;\n        }\n    }\n    constructor(options){\n        this.prefetchMemory = new Map();\n        this.recordOutdate = {};\n        this._exports = {};\n        this._options = options;\n        this.global.instance.set(options.name, this);\n    }\n}\n\nexport { MFDataPrefetch as M };\n","import { getInstance } from '@module-federation/runtime';\nimport { encodeName, MFPrefetchCommon } from '@module-federation/sdk';\n\nconst getScope = ()=>{\n    return getInstance().options.name;\n};\nconst getPrefetchId = (id)=>encodeName(`${id}/${MFPrefetchCommon.identifier}`);\nconst compatGetPrefetchId = (id)=>encodeName(`${id}/VmokPrefetch`);\nconst getSignalFromManifest = (remoteSnapshot)=>{\n    if (!remoteSnapshot) {\n        return false;\n    }\n    if (!('prefetchEntry' in remoteSnapshot) && !('prefetchInterface' in remoteSnapshot)) {\n        return false;\n    }\n    if (!remoteSnapshot.prefetchEntry && !remoteSnapshot.prefetchInterface) {\n        return false;\n    }\n    return true;\n};\n\nexport { getSignalFromManifest as a, getPrefetchId as b, compatGetPrefetchId as c, getScope as g };\n","const sharedStrategy = ()=>({\n        name: 'shared-strategy',\n        beforeInit (args) {\n            const { userOptions } = args;\n            const shared = userOptions.shared;\n            if (shared) {\n                Object.keys(shared).forEach((sharedKey)=>{\n                    const sharedConfigs = shared[sharedKey];\n                    const arraySharedConfigs = Array.isArray(sharedConfigs) ? sharedConfigs : [\n                        sharedConfigs\n                    ];\n                    arraySharedConfigs.forEach((s)=>{\n                        s.strategy = 'loaded-first';\n                    });\n                });\n                console.warn(`[Module Federation Data Prefetch]: Your shared strategy is set to 'loaded-first', this is a necessary condition for data prefetch`);\n            }\n            return args;\n        }\n    });\n\nexport { sharedStrategy as default };\n","'use strict';\n\nvar polyfills = require('./polyfills.cjs.js');\nvar sdk = require('@module-federation/sdk');\nvar share = require('./share.cjs.js');\n\n// Function to match a remote with its name and expose\n// id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n// id: alias(app1) + expose(button) = app1/button\n// id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\nfunction matchRemoteWithNameAndExpose(remotes, id) {\n    for (const remote of remotes){\n        // match pkgName\n        const isNameMatched = id.startsWith(remote.name);\n        let expose = id.replace(remote.name, '');\n        if (isNameMatched) {\n            if (expose.startsWith('/')) {\n                const pkgNameOrAlias = remote.name;\n                expose = `.${expose}`;\n                return {\n                    pkgNameOrAlias,\n                    expose,\n                    remote\n                };\n            } else if (expose === '') {\n                return {\n                    pkgNameOrAlias: remote.name,\n                    expose: '.',\n                    remote\n                };\n            }\n        }\n        // match alias\n        const isAliasMatched = remote.alias && id.startsWith(remote.alias);\n        let exposeWithAlias = remote.alias && id.replace(remote.alias, '');\n        if (remote.alias && isAliasMatched) {\n            if (exposeWithAlias && exposeWithAlias.startsWith('/')) {\n                const pkgNameOrAlias = remote.alias;\n                exposeWithAlias = `.${exposeWithAlias}`;\n                return {\n                    pkgNameOrAlias,\n                    expose: exposeWithAlias,\n                    remote\n                };\n            } else if (exposeWithAlias === '') {\n                return {\n                    pkgNameOrAlias: remote.alias,\n                    expose: '.',\n                    remote\n                };\n            }\n        }\n    }\n    return;\n}\n// Function to match a remote with its name or alias\nfunction matchRemote(remotes, nameOrAlias) {\n    for (const remote of remotes){\n        const isNameMatched = nameOrAlias === remote.name;\n        if (isNameMatched) {\n            return remote;\n        }\n        const isAliasMatched = remote.alias && nameOrAlias === remote.alias;\n        if (isAliasMatched) {\n            return remote;\n        }\n    }\n    return;\n}\n\nfunction registerPlugins$1(plugins, hookInstances) {\n    const globalPlugins = share.getGlobalHostPlugins();\n    // Incorporate global plugins\n    if (globalPlugins.length > 0) {\n        globalPlugins.forEach((plugin)=>{\n            if (plugins == null ? void 0 : plugins.find((item)=>item.name !== plugin.name)) {\n                plugins.push(plugin);\n            }\n        });\n    }\n    if (plugins && plugins.length > 0) {\n        plugins.forEach((plugin)=>{\n            hookInstances.forEach((hookInstance)=>{\n                hookInstance.applyPlugin(plugin);\n            });\n        });\n    }\n    return plugins;\n}\n\nasync function loadEsmEntry({ entry, remoteEntryExports }) {\n    return new Promise((resolve, reject)=>{\n        try {\n            if (!remoteEntryExports) {\n                // eslint-disable-next-line no-eval\n                new Function('callbacks', `import(\"${entry}\").then(callbacks[0]).catch(callbacks[1])`)([\n                    resolve,\n                    reject\n                ]);\n            } else {\n                resolve(remoteEntryExports);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\nasync function loadSystemJsEntry({ entry, remoteEntryExports }) {\n    return new Promise((resolve, reject)=>{\n        try {\n            if (!remoteEntryExports) {\n                // eslint-disable-next-line no-eval\n                new Function('callbacks', `System.import(\"${entry}\").then(callbacks[0]).catch(callbacks[1])`)([\n                    resolve,\n                    reject\n                ]);\n            } else {\n                resolve(remoteEntryExports);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n}\nasync function loadEntryScript({ name, globalName, entry, createScriptHook }) {\n    const { entryExports: remoteEntryExports } = share.getRemoteEntryExports(name, globalName);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    return sdk.loadScript(entry, {\n        attrs: {},\n        createScriptHook: (url, attrs)=>{\n            const res = createScriptHook.emit({\n                url,\n                attrs\n            });\n            if (!res) return;\n            if (res instanceof HTMLScriptElement) {\n                return res;\n            }\n            if ('script' in res || 'timeout' in res) {\n                return res;\n            }\n            return;\n        }\n    }).then(()=>{\n        const { remoteEntryKey, entryExports } = share.getRemoteEntryExports(name, globalName);\n        share.assert(entryExports, `\n      Unable to use the ${name}'s '${entry}' URL with ${remoteEntryKey}'s globalName to get remoteEntry exports.\n      Possible reasons could be:\\n\n      1. '${entry}' is not the correct URL, or the remoteEntry resource or name is incorrect.\\n\n      2. ${remoteEntryKey} cannot be used to get remoteEntry exports in the window object.\n    `);\n        return entryExports;\n    }).catch((e)=>{\n        throw e;\n    });\n}\nasync function loadEntryDom({ remoteInfo, remoteEntryExports, createScriptHook }) {\n    const { entry, entryGlobalName: globalName, name, type } = remoteInfo;\n    switch(type){\n        case 'esm':\n        case 'module':\n            return loadEsmEntry({\n                entry,\n                remoteEntryExports\n            });\n        case 'system':\n            return loadSystemJsEntry({\n                entry,\n                remoteEntryExports\n            });\n        default:\n            return loadEntryScript({\n                entry,\n                globalName,\n                name,\n                createScriptHook\n            });\n    }\n}\nasync function loadEntryNode({ remoteInfo, createScriptHook }) {\n    const { entry, entryGlobalName: globalName, name, type } = remoteInfo;\n    const { entryExports: remoteEntryExports } = share.getRemoteEntryExports(name, globalName);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    return sdk.loadScriptNode(entry, {\n        attrs: {\n            name,\n            globalName,\n            type\n        },\n        createScriptHook: (url, attrs)=>{\n            const res = createScriptHook.emit({\n                url,\n                attrs\n            });\n            if (!res) return;\n            if ('url' in res) {\n                return res;\n            }\n            return;\n        }\n    }).then(()=>{\n        const { remoteEntryKey, entryExports } = share.getRemoteEntryExports(name, globalName);\n        share.assert(entryExports, `\n      Unable to use the ${name}'s '${entry}' URL with ${remoteEntryKey}'s globalName to get remoteEntry exports.\n      Possible reasons could be:\\n\n      1. '${entry}' is not the correct URL, or the remoteEntry resource or name is incorrect.\\n\n      2. ${remoteEntryKey} cannot be used to get remoteEntry exports in the window object.\n    `);\n        return entryExports;\n    }).catch((e)=>{\n        throw e;\n    });\n}\nfunction getRemoteEntryUniqueKey(remoteInfo) {\n    const { entry, name } = remoteInfo;\n    return sdk.composeKeyWithSeparator(name, entry);\n}\nasync function getRemoteEntry({ origin, remoteEntryExports, remoteInfo }) {\n    const uniqueKey = getRemoteEntryUniqueKey(remoteInfo);\n    if (remoteEntryExports) {\n        return remoteEntryExports;\n    }\n    if (!share.globalLoading[uniqueKey]) {\n        const loadEntryHook = origin.remoteHandler.hooks.lifecycle.loadEntry;\n        const createScriptHook = origin.loaderHook.lifecycle.createScript;\n        share.globalLoading[uniqueKey] = loadEntryHook.emit({\n            createScriptHook,\n            remoteInfo,\n            remoteEntryExports\n        }).then((res)=>{\n            if (res) {\n                return res;\n            }\n            return sdk.isBrowserEnv() ? loadEntryDom({\n                remoteInfo,\n                remoteEntryExports,\n                createScriptHook\n            }) : loadEntryNode({\n                remoteInfo,\n                createScriptHook\n            });\n        });\n    }\n    return share.globalLoading[uniqueKey];\n}\nfunction getRemoteInfo(remote) {\n    return polyfills._extends({}, remote, {\n        entry: 'entry' in remote ? remote.entry : '',\n        type: remote.type || share.DEFAULT_REMOTE_TYPE,\n        entryGlobalName: remote.entryGlobalName || remote.name,\n        shareScope: remote.shareScope || share.DEFAULT_SCOPE\n    });\n}\n\nlet Module = class Module {\n    async getEntry() {\n        if (this.remoteEntryExports) {\n            return this.remoteEntryExports;\n        }\n        // Get remoteEntry.js\n        const remoteEntryExports = await getRemoteEntry({\n            origin: this.host,\n            remoteInfo: this.remoteInfo,\n            remoteEntryExports: this.remoteEntryExports\n        });\n        share.assert(remoteEntryExports, `remoteEntryExports is undefined \\n ${sdk.safeToString(this.remoteInfo)}`);\n        this.remoteEntryExports = remoteEntryExports;\n        return this.remoteEntryExports;\n    }\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    async get(id, expose, options, remoteSnapshot) {\n        const { loadFactory = true } = options || {\n            loadFactory: true\n        };\n        // Get remoteEntry.js\n        const remoteEntryExports = await this.getEntry();\n        if (!this.inited) {\n            const localShareScopeMap = this.host.shareScopeMap;\n            const remoteShareScope = this.remoteInfo.shareScope || 'default';\n            if (!localShareScopeMap[remoteShareScope]) {\n                localShareScopeMap[remoteShareScope] = {};\n            }\n            const shareScope = localShareScopeMap[remoteShareScope];\n            const initScope = [];\n            const remoteEntryInitOptions = {\n                version: this.remoteInfo.version || ''\n            };\n            // Help to find host instance\n            Object.defineProperty(remoteEntryInitOptions, 'shareScopeMap', {\n                value: localShareScopeMap,\n                // remoteEntryInitOptions will be traversed and assigned during container init, ,so this attribute is not allowed to be traversed\n                enumerable: false\n            });\n            const initContainerOptions = await this.host.hooks.lifecycle.beforeInitContainer.emit({\n                shareScope,\n                // @ts-ignore shareScopeMap will be set by Object.defineProperty\n                remoteEntryInitOptions,\n                initScope,\n                remoteInfo: this.remoteInfo,\n                origin: this.host\n            });\n            if (typeof (remoteEntryExports == null ? void 0 : remoteEntryExports.init) === 'undefined') {\n                console.error('The remote entry interface does not contain \"init\"', '\\n', 'Ensure the name of this remote is not reserved or in use. Check if anything already exists on window[nameOfRemote]', '\\n', 'Ensure that window[nameOfRemote] is returning a {get,init} object.');\n            }\n            await remoteEntryExports.init(initContainerOptions.shareScope, initContainerOptions.initScope, initContainerOptions.remoteEntryInitOptions);\n            await this.host.hooks.lifecycle.initContainer.emit(polyfills._extends({}, initContainerOptions, {\n                id,\n                remoteSnapshot,\n                remoteEntryExports\n            }));\n        }\n        this.lib = remoteEntryExports;\n        this.inited = true;\n        // get exposeGetter\n        const moduleFactory = await remoteEntryExports.get(expose);\n        share.assert(moduleFactory, `${share.getFMId(this.remoteInfo)} remote don't export ${expose}.`);\n        const wrapModuleFactory = this.wraperFactory(moduleFactory, id);\n        if (!loadFactory) {\n            return wrapModuleFactory;\n        }\n        const exposeContent = await wrapModuleFactory();\n        return exposeContent;\n    }\n    wraperFactory(moduleFactory, id) {\n        function defineModuleId(res, id) {\n            if (res && typeof res === 'object' && Object.isExtensible(res) && !Object.getOwnPropertyDescriptor(res, Symbol.for('mf_module_id'))) {\n                Object.defineProperty(res, Symbol.for('mf_module_id'), {\n                    value: id,\n                    enumerable: false\n                });\n            }\n        }\n        if (moduleFactory instanceof Promise) {\n            return async ()=>{\n                const res = await moduleFactory();\n                // This parameter is used for bridge debugging\n                defineModuleId(res, id);\n                return res;\n            };\n        } else {\n            return ()=>{\n                const res = moduleFactory();\n                // This parameter is used for bridge debugging\n                defineModuleId(res, id);\n                return res;\n            };\n        }\n    }\n    constructor({ remoteInfo, host }){\n        this.inited = false;\n        this.lib = undefined;\n        this.remoteInfo = remoteInfo;\n        this.host = host;\n    }\n};\n\nclass SyncHook {\n    on(fn) {\n        if (typeof fn === 'function') {\n            this.listeners.add(fn);\n        }\n    }\n    once(fn) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        this.on(function wrapper(...args) {\n            self.remove(wrapper);\n            // eslint-disable-next-line prefer-spread\n            return fn.apply(null, args);\n        });\n    }\n    emit(...data) {\n        let result;\n        if (this.listeners.size > 0) {\n            // eslint-disable-next-line prefer-spread\n            this.listeners.forEach((fn)=>{\n                result = fn(...data);\n            });\n        }\n        return result;\n    }\n    remove(fn) {\n        this.listeners.delete(fn);\n    }\n    removeAll() {\n        this.listeners.clear();\n    }\n    constructor(type){\n        this.type = '';\n        this.listeners = new Set();\n        if (type) {\n            this.type = type;\n        }\n    }\n}\n\nclass AsyncHook extends SyncHook {\n    emit(...data) {\n        let result;\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const call = (prev)=>{\n                if (prev === false) {\n                    return false; // Abort process\n                } else if (i < ls.length) {\n                    return Promise.resolve(ls[i++].apply(null, data)).then(call);\n                } else {\n                    return prev;\n                }\n            };\n            result = call();\n        }\n        return Promise.resolve(result);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction checkReturnData(originalData, returnedData) {\n    if (!share.isObject(returnedData)) {\n        return false;\n    }\n    if (originalData !== returnedData) {\n        // eslint-disable-next-line no-restricted-syntax\n        for(const key in originalData){\n            if (!(key in returnedData)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nclass SyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!share.isObject(data)) {\n            share.error(`The data for the \"${this.type}\" hook should be an object.`);\n        }\n        for (const fn of this.listeners){\n            try {\n                const tempData = fn(data);\n                if (checkReturnData(data, tempData)) {\n                    data = tempData;\n                } else {\n                    this.onerror(`A plugin returned an unacceptable value for the \"${this.type}\" type.`);\n                    break;\n                }\n            } catch (e) {\n                share.warn(e);\n                this.onerror(e);\n            }\n        }\n        return data;\n    }\n    constructor(type){\n        super();\n        this.onerror = share.error;\n        this.type = type;\n    }\n}\n\nclass AsyncWaterfallHook extends SyncHook {\n    emit(data) {\n        if (!share.isObject(data)) {\n            share.error(`The response data for the \"${this.type}\" hook must be an object.`);\n        }\n        const ls = Array.from(this.listeners);\n        if (ls.length > 0) {\n            let i = 0;\n            const processError = (e)=>{\n                share.warn(e);\n                this.onerror(e);\n                return data;\n            };\n            const call = (prevData)=>{\n                if (checkReturnData(data, prevData)) {\n                    data = prevData;\n                    if (i < ls.length) {\n                        try {\n                            return Promise.resolve(ls[i++](data)).then(call, processError);\n                        } catch (e) {\n                            return processError(e);\n                        }\n                    }\n                } else {\n                    this.onerror(`A plugin returned an incorrect value for the \"${this.type}\" type.`);\n                }\n                return data;\n            };\n            return Promise.resolve(call(data));\n        }\n        return Promise.resolve(data);\n    }\n    constructor(type){\n        super();\n        this.onerror = share.error;\n        this.type = type;\n    }\n}\n\nclass PluginSystem {\n    applyPlugin(plugin) {\n        share.assert(share.isPlainObject(plugin), 'Plugin configuration is invalid.');\n        // The plugin's name is mandatory and must be unique\n        const pluginName = plugin.name;\n        share.assert(pluginName, 'A name must be provided by the plugin.');\n        if (!this.registerPlugins[pluginName]) {\n            this.registerPlugins[pluginName] = plugin;\n            Object.keys(this.lifecycle).forEach((key)=>{\n                const pluginLife = plugin[key];\n                if (pluginLife) {\n                    this.lifecycle[key].on(pluginLife);\n                }\n            });\n        }\n    }\n    removePlugin(pluginName) {\n        share.assert(pluginName, 'A name is required.');\n        const plugin = this.registerPlugins[pluginName];\n        share.assert(plugin, `The plugin \"${pluginName}\" is not registered.`);\n        Object.keys(plugin).forEach((key)=>{\n            if (key !== 'name') {\n                this.lifecycle[key].remove(plugin[key]);\n            }\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    inherit({ lifecycle, registerPlugins }) {\n        Object.keys(lifecycle).forEach((hookName)=>{\n            share.assert(!this.lifecycle[hookName], `The hook \"${hookName}\" has a conflict and cannot be inherited.`);\n            this.lifecycle[hookName] = lifecycle[hookName];\n        });\n        Object.keys(registerPlugins).forEach((pluginName)=>{\n            share.assert(!this.registerPlugins[pluginName], `The plugin \"${pluginName}\" has a conflict and cannot be inherited.`);\n            this.applyPlugin(registerPlugins[pluginName]);\n        });\n    }\n    constructor(lifecycle){\n        this.registerPlugins = {};\n        this.lifecycle = lifecycle;\n        this.lifecycleKeys = Object.keys(lifecycle);\n    }\n}\n\nfunction defaultPreloadArgs(preloadConfig) {\n    return polyfills._extends({\n        resourceCategory: 'sync',\n        share: true,\n        depsRemote: true,\n        prefetchInterface: false\n    }, preloadConfig);\n}\nfunction formatPreloadArgs(remotes, preloadArgs) {\n    return preloadArgs.map((args)=>{\n        const remoteInfo = matchRemote(remotes, args.nameOrAlias);\n        share.assert(remoteInfo, `Unable to preload ${args.nameOrAlias} as it is not included in ${!remoteInfo && sdk.safeToString({\n            remoteInfo,\n            remotes\n        })}`);\n        return {\n            remote: remoteInfo,\n            preloadConfig: defaultPreloadArgs(args)\n        };\n    });\n}\nfunction normalizePreloadExposes(exposes) {\n    if (!exposes) {\n        return [];\n    }\n    return exposes.map((expose)=>{\n        if (expose === '.') {\n            return expose;\n        }\n        if (expose.startsWith('./')) {\n            return expose.replace('./', '');\n        }\n        return expose;\n    });\n}\nfunction preloadAssets(remoteInfo, host, assets, // It is used to distinguish preload from load remote parallel loading\nuseLinkPreload = true) {\n    const { cssAssets, jsAssetsWithoutEntry, entryAssets } = assets;\n    if (host.options.inBrowser) {\n        entryAssets.forEach((asset)=>{\n            const { moduleInfo } = asset;\n            const module = host.moduleCache.get(remoteInfo.name);\n            if (module) {\n                getRemoteEntry({\n                    origin: host,\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: module.remoteEntryExports\n                });\n            } else {\n                getRemoteEntry({\n                    origin: host,\n                    remoteInfo: moduleInfo,\n                    remoteEntryExports: undefined\n                });\n            }\n        });\n        if (useLinkPreload) {\n            const defaultAttrs = {\n                rel: 'preload',\n                as: 'style',\n                crossorigin: 'anonymous'\n            };\n            cssAssets.forEach((cssUrl)=>{\n                const { link: cssEl, needAttach } = sdk.createLink({\n                    url: cssUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n                needAttach && document.head.appendChild(cssEl);\n            });\n        } else {\n            const defaultAttrs = {\n                rel: 'stylesheet',\n                type: 'text/css'\n            };\n            cssAssets.forEach((cssUrl)=>{\n                const { link: cssEl, needAttach } = sdk.createLink({\n                    url: cssUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    },\n                    needDeleteLink: false\n                });\n                needAttach && document.head.appendChild(cssEl);\n            });\n        }\n        if (useLinkPreload) {\n            const defaultAttrs = {\n                rel: 'preload',\n                as: 'script',\n                crossorigin: 'anonymous'\n            };\n            jsAssetsWithoutEntry.forEach((jsUrl)=>{\n                const { link: linkEl, needAttach } = sdk.createLink({\n                    url: jsUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createLinkHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createLink.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLLinkElement) {\n                            return res;\n                        }\n                        return;\n                    }\n                });\n                needAttach && document.head.appendChild(linkEl);\n            });\n        } else {\n            const defaultAttrs = {\n                fetchpriority: 'high',\n                type: (remoteInfo == null ? void 0 : remoteInfo.type) === 'module' ? 'module' : 'text/javascript'\n            };\n            jsAssetsWithoutEntry.forEach((jsUrl)=>{\n                const { script: scriptEl, needAttach } = sdk.createScript({\n                    url: jsUrl,\n                    cb: ()=>{},\n                    attrs: defaultAttrs,\n                    createScriptHook: (url, attrs)=>{\n                        const res = host.loaderHook.lifecycle.createScript.emit({\n                            url,\n                            attrs\n                        });\n                        if (res instanceof HTMLScriptElement) {\n                            return res;\n                        }\n                        return;\n                    },\n                    needDeleteScript: true\n                });\n                needAttach && document.head.appendChild(scriptEl);\n            });\n        }\n    }\n}\n\nfunction assignRemoteInfo(remoteInfo, remoteSnapshot) {\n    const remoteEntryInfo = share.getRemoteEntryInfoFromSnapshot(remoteSnapshot);\n    if (!remoteEntryInfo.url) {\n        share.error(`The attribute remoteEntry of ${remoteInfo.name} must not be undefined.`);\n    }\n    let entryUrl = sdk.getResourceUrl(remoteSnapshot, remoteEntryInfo.url);\n    if (!sdk.isBrowserEnv() && !entryUrl.startsWith('http')) {\n        entryUrl = `https:${entryUrl}`;\n    }\n    remoteInfo.type = remoteEntryInfo.type;\n    remoteInfo.entryGlobalName = remoteEntryInfo.globalName;\n    remoteInfo.entry = entryUrl;\n    remoteInfo.version = remoteSnapshot.version;\n    remoteInfo.buildVersion = remoteSnapshot.buildVersion;\n}\nfunction snapshotPlugin() {\n    return {\n        name: 'snapshot-plugin',\n        async afterResolve (args) {\n            const { remote, pkgNameOrAlias, expose, origin, remoteInfo } = args;\n            if (!share.isRemoteInfoWithEntry(remote) || !share.isPureRemoteEntry(remote)) {\n                const { remoteSnapshot, globalSnapshot } = await origin.snapshotHandler.loadRemoteSnapshotInfo(remote);\n                assignRemoteInfo(remoteInfo, remoteSnapshot);\n                // preloading assets\n                const preloadOptions = {\n                    remote,\n                    preloadConfig: {\n                        nameOrAlias: pkgNameOrAlias,\n                        exposes: [\n                            expose\n                        ],\n                        resourceCategory: 'sync',\n                        share: false,\n                        depsRemote: false\n                    }\n                };\n                const assets = await origin.remoteHandler.hooks.lifecycle.generatePreloadAssets.emit({\n                    origin,\n                    preloadOptions,\n                    remoteInfo,\n                    remote,\n                    remoteSnapshot,\n                    globalSnapshot\n                });\n                if (assets) {\n                    preloadAssets(remoteInfo, origin, assets, false);\n                }\n                return polyfills._extends({}, args, {\n                    remoteSnapshot\n                });\n            }\n            return args;\n        }\n    };\n}\n\n// name\n// name:version\nfunction splitId(id) {\n    const splitInfo = id.split(':');\n    if (splitInfo.length === 1) {\n        return {\n            name: splitInfo[0],\n            version: undefined\n        };\n    } else if (splitInfo.length === 2) {\n        return {\n            name: splitInfo[0],\n            version: splitInfo[1]\n        };\n    } else {\n        return {\n            name: splitInfo[1],\n            version: splitInfo[2]\n        };\n    }\n}\n// Traverse all nodes in moduleInfo and traverse the entire snapshot\nfunction traverseModuleInfo(globalSnapshot, remoteInfo, traverse, isRoot, memo = {}, remoteSnapshot) {\n    const id = share.getFMId(remoteInfo);\n    const { value: snapshotValue } = share.getInfoWithoutType(globalSnapshot, id);\n    const effectiveRemoteSnapshot = remoteSnapshot || snapshotValue;\n    if (effectiveRemoteSnapshot && !sdk.isManifestProvider(effectiveRemoteSnapshot)) {\n        traverse(effectiveRemoteSnapshot, remoteInfo, isRoot);\n        if (effectiveRemoteSnapshot.remotesInfo) {\n            const remoteKeys = Object.keys(effectiveRemoteSnapshot.remotesInfo);\n            for (const key of remoteKeys){\n                if (memo[key]) {\n                    continue;\n                }\n                memo[key] = true;\n                const subRemoteInfo = splitId(key);\n                const remoteValue = effectiveRemoteSnapshot.remotesInfo[key];\n                traverseModuleInfo(globalSnapshot, {\n                    name: subRemoteInfo.name,\n                    version: remoteValue.matchedVersion\n                }, traverse, false, memo, undefined);\n            }\n        }\n    }\n}\n// eslint-disable-next-line max-lines-per-function\nfunction generatePreloadAssets(origin, preloadOptions, remote, globalSnapshot, remoteSnapshot) {\n    const cssAssets = [];\n    const jsAssets = [];\n    const entryAssets = [];\n    const loadedSharedJsAssets = new Set();\n    const loadedSharedCssAssets = new Set();\n    const { options } = origin;\n    const { preloadConfig: rootPreloadConfig } = preloadOptions;\n    const { depsRemote } = rootPreloadConfig;\n    const memo = {};\n    traverseModuleInfo(globalSnapshot, remote, (moduleInfoSnapshot, remoteInfo, isRoot)=>{\n        let preloadConfig;\n        if (isRoot) {\n            preloadConfig = rootPreloadConfig;\n        } else {\n            if (Array.isArray(depsRemote)) {\n                // eslint-disable-next-line array-callback-return\n                const findPreloadConfig = depsRemote.find((remoteConfig)=>{\n                    if (remoteConfig.nameOrAlias === remoteInfo.name || remoteConfig.nameOrAlias === remoteInfo.alias) {\n                        return true;\n                    }\n                    return false;\n                });\n                if (!findPreloadConfig) {\n                    return;\n                }\n                preloadConfig = defaultPreloadArgs(findPreloadConfig);\n            } else if (depsRemote === true) {\n                preloadConfig = rootPreloadConfig;\n            } else {\n                return;\n            }\n        }\n        const remoteEntryUrl = sdk.getResourceUrl(moduleInfoSnapshot, share.getRemoteEntryInfoFromSnapshot(moduleInfoSnapshot).url);\n        if (remoteEntryUrl) {\n            entryAssets.push({\n                name: remoteInfo.name,\n                moduleInfo: {\n                    name: remoteInfo.name,\n                    entry: remoteEntryUrl,\n                    type: 'remoteEntryType' in moduleInfoSnapshot ? moduleInfoSnapshot.remoteEntryType : 'global',\n                    entryGlobalName: 'globalName' in moduleInfoSnapshot ? moduleInfoSnapshot.globalName : remoteInfo.name,\n                    shareScope: '',\n                    version: 'version' in moduleInfoSnapshot ? moduleInfoSnapshot.version : undefined\n                },\n                url: remoteEntryUrl\n            });\n        }\n        let moduleAssetsInfo = 'modules' in moduleInfoSnapshot ? moduleInfoSnapshot.modules : [];\n        const normalizedPreloadExposes = normalizePreloadExposes(preloadConfig.exposes);\n        if (normalizedPreloadExposes.length && 'modules' in moduleInfoSnapshot) {\n            var _moduleInfoSnapshot_modules;\n            moduleAssetsInfo = moduleInfoSnapshot == null ? void 0 : (_moduleInfoSnapshot_modules = moduleInfoSnapshot.modules) == null ? void 0 : _moduleInfoSnapshot_modules.reduce((assets, moduleAssetInfo)=>{\n                if ((normalizedPreloadExposes == null ? void 0 : normalizedPreloadExposes.indexOf(moduleAssetInfo.moduleName)) !== -1) {\n                    assets.push(moduleAssetInfo);\n                }\n                return assets;\n            }, []);\n        }\n        function handleAssets(assets) {\n            const assetsRes = assets.map((asset)=>sdk.getResourceUrl(moduleInfoSnapshot, asset));\n            if (preloadConfig.filter) {\n                return assetsRes.filter(preloadConfig.filter);\n            }\n            return assetsRes;\n        }\n        if (moduleAssetsInfo) {\n            const assetsLength = moduleAssetsInfo.length;\n            for(let index = 0; index < assetsLength; index++){\n                const assetsInfo = moduleAssetsInfo[index];\n                const exposeFullPath = `${remoteInfo.name}/${assetsInfo.moduleName}`;\n                origin.remoteHandler.hooks.lifecycle.handlePreloadModule.emit({\n                    id: assetsInfo.moduleName === '.' ? remoteInfo.name : exposeFullPath,\n                    name: remoteInfo.name,\n                    remoteSnapshot: moduleInfoSnapshot,\n                    preloadConfig,\n                    remote: remoteInfo,\n                    origin\n                });\n                const preloaded = share.getPreloaded(exposeFullPath);\n                if (preloaded) {\n                    continue;\n                }\n                if (preloadConfig.resourceCategory === 'all') {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.async));\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.async));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                // eslint-disable-next-line no-constant-condition\n                } else if (preloadConfig.resourceCategory = 'sync') {\n                    cssAssets.push(...handleAssets(assetsInfo.assets.css.sync));\n                    jsAssets.push(...handleAssets(assetsInfo.assets.js.sync));\n                }\n                share.setPreloaded(exposeFullPath);\n            }\n        }\n    }, true, memo, remoteSnapshot);\n    if (remoteSnapshot.shared) {\n        const collectSharedAssets = (shareInfo, snapshotShared)=>{\n            const registeredShared = share.getRegisteredShare(origin.shareScopeMap, snapshotShared.sharedName, shareInfo, origin.sharedHandler.hooks.lifecycle.resolveShare);\n            // If the global share does not exist, or the lib function does not exist, it means that the shared has not been loaded yet and can be preloaded.\n            if (registeredShared && typeof registeredShared.lib === 'function') {\n                snapshotShared.assets.js.sync.forEach((asset)=>{\n                    loadedSharedJsAssets.add(asset);\n                });\n                snapshotShared.assets.css.sync.forEach((asset)=>{\n                    loadedSharedCssAssets.add(asset);\n                });\n            }\n        };\n        remoteSnapshot.shared.forEach((shared)=>{\n            var _options_shared;\n            const shareInfos = (_options_shared = options.shared) == null ? void 0 : _options_shared[shared.sharedName];\n            if (!shareInfos) {\n                return;\n            }\n            // if no version, preload all shared\n            const sharedOptions = shared.version ? shareInfos.find((s)=>s.version === shared.version) : shareInfos;\n            if (!sharedOptions) {\n                return;\n            }\n            const arrayShareInfo = share.arrayOptions(sharedOptions);\n            arrayShareInfo.forEach((s)=>{\n                collectSharedAssets(s, shared);\n            });\n        });\n    }\n    const needPreloadJsAssets = jsAssets.filter((asset)=>!loadedSharedJsAssets.has(asset));\n    const needPreloadCssAssets = cssAssets.filter((asset)=>!loadedSharedCssAssets.has(asset));\n    return {\n        cssAssets: needPreloadCssAssets,\n        jsAssetsWithoutEntry: needPreloadJsAssets,\n        entryAssets\n    };\n}\nconst generatePreloadAssetsPlugin = function() {\n    return {\n        name: 'generate-preload-assets-plugin',\n        async generatePreloadAssets (args) {\n            const { origin, preloadOptions, remoteInfo, remote, globalSnapshot, remoteSnapshot } = args;\n            if (share.isRemoteInfoWithEntry(remote) && share.isPureRemoteEntry(remote)) {\n                return {\n                    cssAssets: [],\n                    jsAssetsWithoutEntry: [],\n                    entryAssets: [\n                        {\n                            name: remote.name,\n                            url: remote.entry,\n                            moduleInfo: {\n                                name: remoteInfo.name,\n                                entry: remote.entry,\n                                type: remoteInfo.type || 'global',\n                                entryGlobalName: '',\n                                shareScope: ''\n                            }\n                        }\n                    ]\n                };\n            }\n            assignRemoteInfo(remoteInfo, remoteSnapshot);\n            const assets = generatePreloadAssets(origin, preloadOptions, remoteInfo, globalSnapshot, remoteSnapshot);\n            return assets;\n        }\n    };\n};\n\nfunction getGlobalRemoteInfo(moduleInfo, origin) {\n    const hostGlobalSnapshot = share.getGlobalSnapshotInfoByModuleInfo({\n        name: origin.options.name,\n        version: origin.options.version\n    });\n    // get remote detail info from global\n    const globalRemoteInfo = hostGlobalSnapshot && 'remotesInfo' in hostGlobalSnapshot && hostGlobalSnapshot.remotesInfo && share.getInfoWithoutType(hostGlobalSnapshot.remotesInfo, moduleInfo.name).value;\n    if (globalRemoteInfo && globalRemoteInfo.matchedVersion) {\n        return {\n            hostGlobalSnapshot,\n            globalSnapshot: share.getGlobalSnapshot(),\n            remoteSnapshot: share.getGlobalSnapshotInfoByModuleInfo({\n                name: moduleInfo.name,\n                version: globalRemoteInfo.matchedVersion\n            })\n        };\n    }\n    return {\n        hostGlobalSnapshot: undefined,\n        globalSnapshot: share.getGlobalSnapshot(),\n        remoteSnapshot: share.getGlobalSnapshotInfoByModuleInfo({\n            name: moduleInfo.name,\n            version: 'version' in moduleInfo ? moduleInfo.version : undefined\n        })\n    };\n}\nclass SnapshotHandler {\n    async loadSnapshot(moduleInfo) {\n        const { options } = this.HostInstance;\n        const { hostGlobalSnapshot, remoteSnapshot, globalSnapshot } = this.getGlobalRemoteInfo(moduleInfo);\n        const { remoteSnapshot: globalRemoteSnapshot, globalSnapshot: globalSnapshotRes } = await this.hooks.lifecycle.loadSnapshot.emit({\n            options,\n            moduleInfo,\n            hostGlobalSnapshot,\n            remoteSnapshot,\n            globalSnapshot\n        });\n        return {\n            remoteSnapshot: globalRemoteSnapshot,\n            globalSnapshot: globalSnapshotRes\n        };\n    }\n    // eslint-disable-next-line max-lines-per-function\n    async loadRemoteSnapshotInfo(moduleInfo) {\n        const { options } = this.HostInstance;\n        await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({\n            options,\n            moduleInfo\n        });\n        let hostSnapshot = share.getGlobalSnapshotInfoByModuleInfo({\n            name: this.HostInstance.options.name,\n            version: this.HostInstance.options.version\n        });\n        if (!hostSnapshot) {\n            hostSnapshot = {\n                version: this.HostInstance.options.version || '',\n                remoteEntry: '',\n                remotesInfo: {}\n            };\n            share.addGlobalSnapshot({\n                [this.HostInstance.options.name]: hostSnapshot\n            });\n        }\n        // In dynamic loadRemote scenarios, incomplete remotesInfo delivery may occur. In such cases, the remotesInfo in the host needs to be completed in the snapshot at runtime.\n        // This ensures the snapshot's integrity and helps the chrome plugin correctly identify all producer modules, ensuring that proxyable producer modules will not be missing.\n        if (hostSnapshot && 'remotesInfo' in hostSnapshot && !share.getInfoWithoutType(hostSnapshot.remotesInfo, moduleInfo.name).value) {\n            if ('version' in moduleInfo || 'entry' in moduleInfo) {\n                hostSnapshot.remotesInfo = polyfills._extends({}, hostSnapshot == null ? void 0 : hostSnapshot.remotesInfo, {\n                    [moduleInfo.name]: {\n                        matchedVersion: 'version' in moduleInfo ? moduleInfo.version : moduleInfo.entry\n                    }\n                });\n            }\n        }\n        const { hostGlobalSnapshot, remoteSnapshot, globalSnapshot } = this.getGlobalRemoteInfo(moduleInfo);\n        const { remoteSnapshot: globalRemoteSnapshot, globalSnapshot: globalSnapshotRes } = await this.hooks.lifecycle.loadSnapshot.emit({\n            options,\n            moduleInfo,\n            hostGlobalSnapshot,\n            remoteSnapshot,\n            globalSnapshot\n        });\n        // global snapshot includes manifest or module info includes manifest\n        if (globalRemoteSnapshot) {\n            if (sdk.isManifestProvider(globalRemoteSnapshot)) {\n                const remoteEntry = sdk.isBrowserEnv() ? globalRemoteSnapshot.remoteEntry : globalRemoteSnapshot.ssrRemoteEntry || globalRemoteSnapshot.remoteEntry || '';\n                const moduleSnapshot = await this.getManifestJson(remoteEntry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = share.setGlobalSnapshotInfoByModuleInfo(polyfills._extends({}, moduleInfo, {\n                    // The global remote may be overridden\n                    // Therefore, set the snapshot key to the global address of the actual request\n                    entry: remoteEntry\n                }), moduleSnapshot);\n                return {\n                    remoteSnapshot: moduleSnapshot,\n                    globalSnapshot: globalSnapshotRes\n                };\n            } else {\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: globalRemoteSnapshot,\n                    from: 'global'\n                });\n                return {\n                    remoteSnapshot: remoteSnapshotRes,\n                    globalSnapshot: globalSnapshotRes\n                };\n            }\n        } else {\n            if (share.isRemoteInfoWithEntry(moduleInfo)) {\n                // get from manifest.json and merge remote info from remote server\n                const moduleSnapshot = await this.getManifestJson(moduleInfo.entry, moduleInfo, {});\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                const globalSnapshotRes = share.setGlobalSnapshotInfoByModuleInfo(moduleInfo, moduleSnapshot);\n                const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                    options: this.HostInstance.options,\n                    moduleInfo,\n                    remoteSnapshot: moduleSnapshot,\n                    from: 'global'\n                });\n                return {\n                    remoteSnapshot: remoteSnapshotRes,\n                    globalSnapshot: globalSnapshotRes\n                };\n            } else {\n                share.error(`\n          Cannot get remoteSnapshot with the name: '${moduleInfo.name}', version: '${moduleInfo.version}' from __FEDERATION__.moduleInfo. The following reasons may be causing the problem:\\n\n          1. The Deploy platform did not deliver the correct data. You can use __FEDERATION__.moduleInfo to check the remoteInfo.\\n\n          2. The remote '${moduleInfo.name}' version '${moduleInfo.version}' is not released.\\n\n          The transformed module info: ${JSON.stringify(globalSnapshotRes)}\n        `);\n            }\n        }\n    }\n    getGlobalRemoteInfo(moduleInfo) {\n        return getGlobalRemoteInfo(moduleInfo, this.HostInstance);\n    }\n    async getManifestJson(manifestUrl, moduleInfo, extraOptions) {\n        const getManifest = async ()=>{\n            let manifestJson = this.manifestCache.get(manifestUrl);\n            if (manifestJson) {\n                return manifestJson;\n            }\n            try {\n                let res = await this.loaderHook.lifecycle.fetch.emit(manifestUrl, {});\n                if (!res || !(res instanceof Response)) {\n                    res = await fetch(manifestUrl, {});\n                }\n                manifestJson = await res.json();\n                share.assert(manifestJson.metaData && manifestJson.exposes && manifestJson.shared, `${manifestUrl} is not a federation manifest`);\n                this.manifestCache.set(manifestUrl, manifestJson);\n                return manifestJson;\n            } catch (err) {\n                delete this.manifestLoading[manifestUrl];\n                share.error(`Failed to get manifestJson for ${moduleInfo.name}. The manifest URL is ${manifestUrl}. Please ensure that the manifestUrl is accessible.\n          \\n Error message:\n          \\n ${err}`);\n            }\n        };\n        const asyncLoadProcess = async ()=>{\n            const manifestJson = await getManifest();\n            const remoteSnapshot = sdk.generateSnapshotFromManifest(manifestJson, {\n                version: manifestUrl\n            });\n            const { remoteSnapshot: remoteSnapshotRes } = await this.hooks.lifecycle.loadRemoteSnapshot.emit({\n                options: this.HostInstance.options,\n                moduleInfo,\n                manifestJson,\n                remoteSnapshot,\n                manifestUrl,\n                from: 'manifest'\n            });\n            return remoteSnapshotRes;\n        };\n        if (!this.manifestLoading[manifestUrl]) {\n            this.manifestLoading[manifestUrl] = asyncLoadProcess().then((res)=>res);\n        }\n        return this.manifestLoading[manifestUrl];\n    }\n    constructor(HostInstance){\n        this.loadingHostSnapshot = null;\n        this.manifestCache = new Map();\n        this.hooks = new PluginSystem({\n            beforeLoadRemoteSnapshot: new AsyncHook('beforeLoadRemoteSnapshot'),\n            loadSnapshot: new AsyncWaterfallHook('loadGlobalSnapshot'),\n            loadRemoteSnapshot: new AsyncWaterfallHook('loadRemoteSnapshot')\n        });\n        this.manifestLoading = share.Global.__FEDERATION__.__MANIFEST_LOADING__;\n        this.HostInstance = HostInstance;\n        this.loaderHook = HostInstance.loaderHook;\n    }\n}\n\nclass SharedHandler {\n    // register shared in shareScopeMap\n    registerShared(globalOptions, userOptions) {\n        const { shareInfos, shared } = share.formatShareConfigs(globalOptions, userOptions);\n        const sharedKeys = Object.keys(shareInfos);\n        sharedKeys.forEach((sharedKey)=>{\n            const sharedVals = shareInfos[sharedKey];\n            sharedVals.forEach((sharedVal)=>{\n                const registeredShared = share.getRegisteredShare(this.shareScopeMap, sharedKey, sharedVal, this.hooks.lifecycle.resolveShare);\n                if (!registeredShared && sharedVal && sharedVal.lib) {\n                    this.setShared({\n                        pkgName: sharedKey,\n                        lib: sharedVal.lib,\n                        get: sharedVal.get,\n                        loaded: true,\n                        shared: sharedVal,\n                        from: userOptions.name\n                    });\n                }\n            });\n        });\n        return {\n            shareInfos,\n            shared\n        };\n    }\n    async loadShare(pkgName, extraOptions) {\n        const { host } = this;\n        // This function performs the following steps:\n        // 1. Checks if the currently loaded share already exists, if not, it throws an error\n        // 2. Searches globally for a matching share, if found, it uses it directly\n        // 3. If not found, it retrieves it from the current share and stores the obtained share globally.\n        const shareInfo = share.getTargetSharedOptions({\n            pkgName,\n            extraOptions,\n            shareInfos: host.options.shared\n        });\n        if (shareInfo == null ? void 0 : shareInfo.scope) {\n            await Promise.all(shareInfo.scope.map(async (shareScope)=>{\n                await Promise.all(this.initializeSharing(shareScope, {\n                    strategy: shareInfo.strategy\n                }));\n                return;\n            }));\n        }\n        const loadShareRes = await this.hooks.lifecycle.beforeLoadShare.emit({\n            pkgName,\n            shareInfo,\n            shared: host.options.shared,\n            origin: host\n        });\n        const { shareInfo: shareInfoRes } = loadShareRes;\n        // Assert that shareInfoRes exists, if not, throw an error\n        share.assert(shareInfoRes, `Cannot find ${pkgName} Share in the ${host.options.name}. Please ensure that the ${pkgName} Share parameters have been injected`);\n        // Retrieve from cache\n        const registeredShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            share.addUniqueItem(shared.useIn, host.options.name);\n        };\n        if (registeredShared && registeredShared.lib) {\n            addUseIn(registeredShared);\n            return registeredShared.lib;\n        } else if (registeredShared && registeredShared.loading && !registeredShared.loaded) {\n            const factory = await registeredShared.loading;\n            registeredShared.loaded = true;\n            if (!registeredShared.lib) {\n                registeredShared.lib = factory;\n            }\n            addUseIn(registeredShared);\n            return factory;\n        } else if (registeredShared) {\n            const asyncLoadProcess = async ()=>{\n                const factory = await registeredShared.get();\n                shareInfoRes.lib = factory;\n                shareInfoRes.loaded = true;\n                addUseIn(shareInfoRes);\n                const gShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n                if (gShared) {\n                    gShared.lib = factory;\n                    gShared.loaded = true;\n                }\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: registeredShared,\n                from: host.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        } else {\n            if (extraOptions == null ? void 0 : extraOptions.customShareInfo) {\n                return false;\n            }\n            const asyncLoadProcess = async ()=>{\n                const factory = await shareInfoRes.get();\n                shareInfoRes.lib = factory;\n                shareInfoRes.loaded = true;\n                addUseIn(shareInfoRes);\n                const gShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfoRes, this.hooks.lifecycle.resolveShare);\n                if (gShared) {\n                    gShared.lib = factory;\n                    gShared.loaded = true;\n                }\n                return factory;\n            };\n            const loading = asyncLoadProcess();\n            this.setShared({\n                pkgName,\n                loaded: false,\n                shared: shareInfoRes,\n                from: host.options.name,\n                lib: null,\n                loading\n            });\n            return loading;\n        }\n    }\n    /**\n   * This function initializes the sharing sequence (executed only once per share scope).\n   * It accepts one argument, the name of the share scope.\n   * If the share scope does not exist, it creates one.\n   */ // eslint-disable-next-line @typescript-eslint/member-ordering\n    initializeSharing(shareScopeName = share.DEFAULT_SCOPE, extraOptions) {\n        const { host } = this;\n        const from = extraOptions == null ? void 0 : extraOptions.from;\n        const strategy = extraOptions == null ? void 0 : extraOptions.strategy;\n        let initScope = extraOptions == null ? void 0 : extraOptions.initScope;\n        const promises = [];\n        if (from !== 'build') {\n            const { initTokens } = this;\n            if (!initScope) initScope = [];\n            let initToken = initTokens[shareScopeName];\n            if (!initToken) initToken = initTokens[shareScopeName] = {\n                from: this.host.name\n            };\n            if (initScope.indexOf(initToken) >= 0) return promises;\n            initScope.push(initToken);\n        }\n        const shareScope = this.shareScopeMap;\n        const hostName = host.options.name;\n        // Creates a new share scope if necessary\n        if (!shareScope[shareScopeName]) {\n            shareScope[shareScopeName] = {};\n        }\n        // Executes all initialization snippets from all accessible modules\n        const scope = shareScope[shareScopeName];\n        const register = (name, shared)=>{\n            var _activeVersion_shareConfig;\n            const { version, eager } = shared;\n            scope[name] = scope[name] || {};\n            const versions = scope[name];\n            const activeVersion = versions[version];\n            const activeVersionEager = Boolean(activeVersion && (activeVersion.eager || ((_activeVersion_shareConfig = activeVersion.shareConfig) == null ? void 0 : _activeVersion_shareConfig.eager)));\n            if (!activeVersion || activeVersion.strategy !== 'loaded-first' && !activeVersion.loaded && (Boolean(!eager) !== !activeVersionEager ? eager : hostName > activeVersion.from)) {\n                versions[version] = shared;\n            }\n        };\n        const initFn = (mod)=>mod && mod.init && mod.init(shareScope[shareScopeName], initScope);\n        const initRemoteModule = async (key)=>{\n            const { module } = await host.remoteHandler.getRemoteModuleAndOptions({\n                id: key\n            });\n            if (module.getEntry) {\n                let remoteEntryExports;\n                try {\n                    remoteEntryExports = await module.getEntry();\n                } catch (error) {\n                    remoteEntryExports = await host.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({\n                        id: key,\n                        error,\n                        from: 'runtime',\n                        lifecycle: 'beforeLoadShare',\n                        origin: host\n                    });\n                }\n                if (!module.inited) {\n                    await initFn(remoteEntryExports);\n                    module.inited = true;\n                }\n            }\n        };\n        Object.keys(host.options.shared).forEach((shareName)=>{\n            const sharedArr = host.options.shared[shareName];\n            sharedArr.forEach((shared)=>{\n                if (shared.scope.includes(shareScopeName)) {\n                    register(shareName, shared);\n                }\n            });\n        });\n        // TODO: strategy==='version-first' need to be removed in the future\n        if (host.options.shareStrategy === 'version-first' || strategy === 'version-first') {\n            host.options.remotes.forEach((remote)=>{\n                if (remote.shareScope === shareScopeName) {\n                    promises.push(initRemoteModule(remote.name));\n                }\n            });\n        }\n        return promises;\n    }\n    // The lib function will only be available if the shared set by eager or runtime init is set or the shared is successfully loaded.\n    // 1. If the loaded shared already exists globally, then it will be reused\n    // 2. If lib exists in local shared, it will be used directly\n    // 3. If the local get returns something other than Promise, then it will be used directly\n    loadShareSync(pkgName, extraOptions) {\n        const { host } = this;\n        const shareInfo = share.getTargetSharedOptions({\n            pkgName,\n            extraOptions,\n            shareInfos: host.options.shared\n        });\n        if (shareInfo == null ? void 0 : shareInfo.scope) {\n            shareInfo.scope.forEach((shareScope)=>{\n                this.initializeSharing(shareScope, {\n                    strategy: shareInfo.strategy\n                });\n            });\n        }\n        const registeredShared = share.getRegisteredShare(this.shareScopeMap, pkgName, shareInfo, this.hooks.lifecycle.resolveShare);\n        const addUseIn = (shared)=>{\n            if (!shared.useIn) {\n                shared.useIn = [];\n            }\n            share.addUniqueItem(shared.useIn, host.options.name);\n        };\n        if (registeredShared) {\n            if (typeof registeredShared.lib === 'function') {\n                addUseIn(registeredShared);\n                if (!registeredShared.loaded) {\n                    registeredShared.loaded = true;\n                    if (registeredShared.from === host.options.name) {\n                        shareInfo.loaded = true;\n                    }\n                }\n                return registeredShared.lib;\n            }\n            if (typeof registeredShared.get === 'function') {\n                const module = registeredShared.get();\n                if (!(module instanceof Promise)) {\n                    addUseIn(registeredShared);\n                    this.setShared({\n                        pkgName,\n                        loaded: true,\n                        from: host.options.name,\n                        lib: module,\n                        shared: registeredShared\n                    });\n                    return module;\n                }\n            }\n        }\n        if (shareInfo.lib) {\n            if (!shareInfo.loaded) {\n                shareInfo.loaded = true;\n            }\n            return shareInfo.lib;\n        }\n        if (shareInfo.get) {\n            const module = shareInfo.get();\n            if (module instanceof Promise) {\n                throw new Error(`\n        The loadShareSync function was unable to load ${pkgName}. The ${pkgName} could not be found in ${host.options.name}.\n        Possible reasons for failure: \\n\n        1. The ${pkgName} share was registered with the 'get' attribute, but loadShare was not used beforehand.\\n\n        2. The ${pkgName} share was not registered with the 'lib' attribute.\\n\n      `);\n            }\n            shareInfo.lib = module;\n            this.setShared({\n                pkgName,\n                loaded: true,\n                from: host.options.name,\n                lib: shareInfo.lib,\n                shared: shareInfo\n            });\n            return shareInfo.lib;\n        }\n        throw new Error(`\n        The loadShareSync function was unable to load ${pkgName}. The ${pkgName} could not be found in ${host.options.name}.\n        Possible reasons for failure: \\n\n        1. The ${pkgName} share was registered with the 'get' attribute, but loadShare was not used beforehand.\\n\n        2. The ${pkgName} share was not registered with the 'lib' attribute.\\n\n      `);\n    }\n    initShareScopeMap(scopeName, shareScope, extraOptions = {}) {\n        const { host } = this;\n        this.shareScopeMap[scopeName] = shareScope;\n        this.hooks.lifecycle.initContainerShareScopeMap.emit({\n            shareScope,\n            options: host.options,\n            origin: host,\n            scopeName,\n            hostShareScopeMap: extraOptions.hostShareScopeMap\n        });\n    }\n    setShared({ pkgName, shared, from, lib, loading, loaded, get }) {\n        const { version, scope = 'default' } = shared, shareInfo = polyfills._object_without_properties_loose(shared, [\n            \"version\",\n            \"scope\"\n        ]);\n        const scopes = Array.isArray(scope) ? scope : [\n            scope\n        ];\n        scopes.forEach((sc)=>{\n            if (!this.shareScopeMap[sc]) {\n                this.shareScopeMap[sc] = {};\n            }\n            if (!this.shareScopeMap[sc][pkgName]) {\n                this.shareScopeMap[sc][pkgName] = {};\n            }\n            if (!this.shareScopeMap[sc][pkgName][version]) {\n                this.shareScopeMap[sc][pkgName][version] = polyfills._extends({\n                    version,\n                    scope: [\n                        'default'\n                    ]\n                }, shareInfo, {\n                    lib,\n                    loaded,\n                    loading\n                });\n                if (get) {\n                    this.shareScopeMap[sc][pkgName][version].get = get;\n                }\n                return;\n            }\n            const registeredShared = this.shareScopeMap[sc][pkgName][version];\n            if (loading && !registeredShared.loading) {\n                registeredShared.loading = loading;\n            }\n        });\n    }\n    _setGlobalShareScopeMap(hostOptions) {\n        const globalShareScopeMap = share.getGlobalShareScope();\n        const identifier = hostOptions.id || hostOptions.name;\n        if (identifier && !globalShareScopeMap[identifier]) {\n            globalShareScopeMap[identifier] = this.shareScopeMap;\n        }\n    }\n    constructor(host){\n        this.hooks = new PluginSystem({\n            afterResolve: new AsyncWaterfallHook('afterResolve'),\n            beforeLoadShare: new AsyncWaterfallHook('beforeLoadShare'),\n            // not used yet\n            loadShare: new AsyncHook(),\n            resolveShare: new SyncWaterfallHook('resolveShare'),\n            // maybe will change, temporarily for internal use only\n            initContainerShareScopeMap: new SyncWaterfallHook('initContainerShareScopeMap')\n        });\n        this.host = host;\n        this.shareScopeMap = {};\n        this.initTokens = {};\n        this._setGlobalShareScopeMap(host.options);\n    }\n}\n\nclass RemoteHandler {\n    formatAndRegisterRemote(globalOptions, userOptions) {\n        const userRemotes = userOptions.remotes || [];\n        return userRemotes.reduce((res, remote)=>{\n            this.registerRemote(remote, res, {\n                force: false\n            });\n            return res;\n        }, globalOptions.remotes);\n    }\n    setIdToRemoteMap(id, remoteMatchInfo) {\n        const { remote, expose } = remoteMatchInfo;\n        const { name, alias } = remote;\n        this.idToRemoteMap[id] = {\n            name: remote.name,\n            expose\n        };\n        if (alias && id.startsWith(name)) {\n            const idWithAlias = id.replace(name, alias);\n            this.idToRemoteMap[idWithAlias] = {\n                name: remote.name,\n                expose\n            };\n            return;\n        }\n        if (alias && id.startsWith(alias)) {\n            const idWithName = id.replace(alias, name);\n            this.idToRemoteMap[idWithName] = {\n                name: remote.name,\n                expose\n            };\n        }\n    }\n    // eslint-disable-next-line max-lines-per-function\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async loadRemote(id, options) {\n        const { host } = this;\n        try {\n            const { loadFactory = true } = options || {\n                loadFactory: true\n            };\n            // 1. Validate the parameters of the retrieved module. There are two module request methods: pkgName + expose and alias + expose.\n            // 2. Request the snapshot information of the current host and globally store the obtained snapshot information. The retrieved module information is partially offline and partially online. The online module information will retrieve the modules used online.\n            // 3. Retrieve the detailed information of the current module from global (remoteEntry address, expose resource address)\n            // 4. After retrieving remoteEntry, call the init of the module, and then retrieve the exported content of the module through get\n            // id: pkgName(@federation/app1) + expose(button) = @federation/app1/button\n            // id: alias(app1) + expose(button) = app1/button\n            // id: alias(app1/utils) + expose(loadash/sort) = app1/utils/loadash/sort\n            const { module, moduleOptions, remoteMatchInfo } = await this.getRemoteModuleAndOptions({\n                id\n            });\n            const { pkgNameOrAlias, remote, expose, id: idRes, remoteSnapshot } = remoteMatchInfo;\n            const moduleOrFactory = await module.get(idRes, expose, options, remoteSnapshot);\n            const moduleWrapper = await this.hooks.lifecycle.onLoad.emit({\n                id: idRes,\n                pkgNameOrAlias,\n                expose,\n                exposeModule: loadFactory ? moduleOrFactory : undefined,\n                exposeModuleFactory: loadFactory ? undefined : moduleOrFactory,\n                remote,\n                options: moduleOptions,\n                moduleInstance: module,\n                origin: host\n            });\n            this.setIdToRemoteMap(id, remoteMatchInfo);\n            if (typeof moduleWrapper === 'function') {\n                return moduleWrapper;\n            }\n            return moduleOrFactory;\n        } catch (error) {\n            const { from = 'runtime' } = options || {\n                from: 'runtime'\n            };\n            const failOver = await this.hooks.lifecycle.errorLoadRemote.emit({\n                id,\n                error,\n                from,\n                lifecycle: 'onLoad',\n                origin: host\n            });\n            if (!failOver) {\n                throw error;\n            }\n            return failOver;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async preloadRemote(preloadOptions) {\n        const { host } = this;\n        await this.hooks.lifecycle.beforePreloadRemote.emit({\n            preloadOps: preloadOptions,\n            options: host.options,\n            origin: host\n        });\n        const preloadOps = formatPreloadArgs(host.options.remotes, preloadOptions);\n        await Promise.all(preloadOps.map(async (ops)=>{\n            const { remote } = ops;\n            const remoteInfo = getRemoteInfo(remote);\n            const { globalSnapshot, remoteSnapshot } = await host.snapshotHandler.loadRemoteSnapshotInfo(remote);\n            const assets = await this.hooks.lifecycle.generatePreloadAssets.emit({\n                origin: host,\n                preloadOptions: ops,\n                remote,\n                remoteInfo,\n                globalSnapshot,\n                remoteSnapshot\n            });\n            if (!assets) {\n                return;\n            }\n            preloadAssets(remoteInfo, host, assets);\n        }));\n    }\n    registerRemotes(remotes, options) {\n        const { host } = this;\n        remotes.forEach((remote)=>{\n            this.registerRemote(remote, host.options.remotes, {\n                force: options == null ? void 0 : options.force\n            });\n        });\n    }\n    async getRemoteModuleAndOptions(options) {\n        const { host } = this;\n        const { id } = options;\n        let loadRemoteArgs;\n        try {\n            loadRemoteArgs = await this.hooks.lifecycle.beforeRequest.emit({\n                id,\n                options: host.options,\n                origin: host\n            });\n        } catch (error) {\n            loadRemoteArgs = await this.hooks.lifecycle.errorLoadRemote.emit({\n                id,\n                options: host.options,\n                origin: host,\n                from: 'runtime',\n                error,\n                lifecycle: 'beforeRequest'\n            });\n            if (!loadRemoteArgs) {\n                throw error;\n            }\n        }\n        const { id: idRes } = loadRemoteArgs;\n        const remoteSplitInfo = matchRemoteWithNameAndExpose(host.options.remotes, idRes);\n        share.assert(remoteSplitInfo, `\n        Unable to locate ${idRes} in ${host.options.name}. Potential reasons for failure include:\\n\n        1. ${idRes} was not included in the 'remotes' parameter of ${host.options.name || 'the host'}.\\n\n        2. ${idRes} could not be found in the 'remotes' of ${host.options.name} with either 'name' or 'alias' attributes.\n        3. ${idRes} is not online, injected, or loaded.\n        4. ${idRes}  cannot be accessed on the expected.\n        5. The 'beforeRequest' hook was provided but did not return the correct 'remoteInfo' when attempting to load ${idRes}.\n      `);\n        const { remote: rawRemote } = remoteSplitInfo;\n        const remoteInfo = getRemoteInfo(rawRemote);\n        const matchInfo = await host.sharedHandler.hooks.lifecycle.afterResolve.emit(polyfills._extends({\n            id: idRes\n        }, remoteSplitInfo, {\n            options: host.options,\n            origin: host,\n            remoteInfo\n        }));\n        const { remote, expose } = matchInfo;\n        share.assert(remote && expose, `The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${idRes}.`);\n        let module = host.moduleCache.get(remote.name);\n        const moduleOptions = {\n            host: host,\n            remoteInfo\n        };\n        if (!module) {\n            module = new Module(moduleOptions);\n            host.moduleCache.set(remote.name, module);\n        }\n        return {\n            module,\n            moduleOptions,\n            remoteMatchInfo: matchInfo\n        };\n    }\n    registerRemote(remote, targetRemotes, options) {\n        const { host } = this;\n        const normalizeRemote = ()=>{\n            if (remote.alias) {\n                // Validate if alias equals the prefix of remote.name and remote.alias, if so, throw an error\n                // As multi-level path references cannot guarantee unique names, alias being a prefix of remote.name is not supported\n                const findEqual = targetRemotes.find((item)=>{\n                    var _item_alias;\n                    return remote.alias && (item.name.startsWith(remote.alias) || ((_item_alias = item.alias) == null ? void 0 : _item_alias.startsWith(remote.alias)));\n                });\n                share.assert(!findEqual, `The alias ${remote.alias} of remote ${remote.name} is not allowed to be the prefix of ${findEqual && findEqual.name} name or alias`);\n            }\n            // Set the remote entry to a complete path\n            if ('entry' in remote) {\n                if (sdk.isBrowserEnv() && !remote.entry.startsWith('http')) {\n                    remote.entry = new URL(remote.entry, window.location.origin).href;\n                }\n            }\n            if (!remote.shareScope) {\n                remote.shareScope = share.DEFAULT_SCOPE;\n            }\n            if (!remote.type) {\n                remote.type = share.DEFAULT_REMOTE_TYPE;\n            }\n        };\n        this.hooks.lifecycle.beforeRegisterRemote.emit({\n            remote,\n            origin: host\n        });\n        const registeredRemote = targetRemotes.find((item)=>item.name === remote.name);\n        if (!registeredRemote) {\n            normalizeRemote();\n            targetRemotes.push(remote);\n            this.hooks.lifecycle.registerRemote.emit({\n                remote,\n                origin: host\n            });\n        } else {\n            const messages = [\n                `The remote \"${remote.name}\" is already registered.`,\n                (options == null ? void 0 : options.force) ? 'Hope you have known that OVERRIDE it may have some unexpected errors' : 'If you want to merge the remote, you can set \"force: true\".'\n            ];\n            if (options == null ? void 0 : options.force) {\n                // remove registered remote\n                this.removeRemote(registeredRemote);\n                normalizeRemote();\n                targetRemotes.push(remote);\n                this.hooks.lifecycle.registerRemote.emit({\n                    remote,\n                    origin: host\n                });\n            }\n            sdk.warn(messages.join(' '));\n        }\n    }\n    removeRemote(remote) {\n        try {\n            const { host } = this;\n            const { name } = remote;\n            const remoteIndex = host.options.remotes.findIndex((item)=>item.name === name);\n            if (remoteIndex !== -1) {\n                host.options.remotes.splice(remoteIndex, 1);\n            }\n            const loadedModule = host.moduleCache.get(remote.name);\n            if (loadedModule) {\n                const remoteInfo = loadedModule.remoteInfo;\n                const key = remoteInfo.entryGlobalName;\n                if (globalThis[key]) {\n                    var _Object_getOwnPropertyDescriptor;\n                    if ((_Object_getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor(globalThis, key)) == null ? void 0 : _Object_getOwnPropertyDescriptor.configurable) {\n                        delete globalThis[key];\n                    } else {\n                        // @ts-ignore\n                        globalThis[key] = undefined;\n                    }\n                }\n                const remoteEntryUniqueKey = getRemoteEntryUniqueKey(loadedModule.remoteInfo);\n                if (share.globalLoading[remoteEntryUniqueKey]) {\n                    delete share.globalLoading[remoteEntryUniqueKey];\n                }\n                host.snapshotHandler.manifestCache.delete(remoteInfo.entry);\n                // delete unloaded shared and instance\n                let remoteInsId = remoteInfo.buildVersion ? sdk.composeKeyWithSeparator(remoteInfo.name, remoteInfo.buildVersion) : remoteInfo.name;\n                const remoteInsIndex = globalThis.__FEDERATION__.__INSTANCES__.findIndex((ins)=>{\n                    if (remoteInfo.buildVersion) {\n                        return ins.options.id === remoteInsId;\n                    } else {\n                        return ins.name === remoteInsId;\n                    }\n                });\n                if (remoteInsIndex !== -1) {\n                    const remoteIns = globalThis.__FEDERATION__.__INSTANCES__[remoteInsIndex];\n                    remoteInsId = remoteIns.options.id || remoteInsId;\n                    const globalShareScopeMap = share.getGlobalShareScope();\n                    let isAllSharedNotUsed = true;\n                    const needDeleteKeys = [];\n                    Object.keys(globalShareScopeMap).forEach((instId)=>{\n                        const shareScopeMap = globalShareScopeMap[instId];\n                        shareScopeMap && Object.keys(shareScopeMap).forEach((shareScope)=>{\n                            const shareScopeVal = shareScopeMap[shareScope];\n                            shareScopeVal && Object.keys(shareScopeVal).forEach((shareName)=>{\n                                const sharedPkgs = shareScopeVal[shareName];\n                                sharedPkgs && Object.keys(sharedPkgs).forEach((shareVersion)=>{\n                                    const shared = sharedPkgs[shareVersion];\n                                    if (shared && typeof shared === 'object' && shared.from === remoteInfo.name) {\n                                        if (shared.loaded || shared.loading) {\n                                            shared.useIn = shared.useIn.filter((usedHostName)=>usedHostName !== remoteInfo.name);\n                                            if (shared.useIn.length) {\n                                                isAllSharedNotUsed = false;\n                                            } else {\n                                                needDeleteKeys.push([\n                                                    instId,\n                                                    shareScope,\n                                                    shareName,\n                                                    shareVersion\n                                                ]);\n                                            }\n                                        } else {\n                                            needDeleteKeys.push([\n                                                instId,\n                                                shareScope,\n                                                shareName,\n                                                shareVersion\n                                            ]);\n                                        }\n                                    }\n                                });\n                            });\n                        });\n                    });\n                    if (isAllSharedNotUsed) {\n                        remoteIns.shareScopeMap = {};\n                        delete globalShareScopeMap[remoteInsId];\n                    }\n                    needDeleteKeys.forEach(([insId, shareScope, shareName, shareVersion])=>{\n                        var _globalShareScopeMap_insId_shareScope_shareName, _globalShareScopeMap_insId_shareScope, _globalShareScopeMap_insId;\n                        (_globalShareScopeMap_insId = globalShareScopeMap[insId]) == null ? true : (_globalShareScopeMap_insId_shareScope = _globalShareScopeMap_insId[shareScope]) == null ? true : (_globalShareScopeMap_insId_shareScope_shareName = _globalShareScopeMap_insId_shareScope[shareName]) == null ? true : delete _globalShareScopeMap_insId_shareScope_shareName[shareVersion];\n                    });\n                    globalThis.__FEDERATION__.__INSTANCES__.splice(remoteInsIndex, 1);\n                }\n                const { hostGlobalSnapshot } = getGlobalRemoteInfo(remote, host);\n                if (hostGlobalSnapshot) {\n                    const remoteKey = hostGlobalSnapshot && 'remotesInfo' in hostGlobalSnapshot && hostGlobalSnapshot.remotesInfo && share.getInfoWithoutType(hostGlobalSnapshot.remotesInfo, remote.name).key;\n                    if (remoteKey) {\n                        delete hostGlobalSnapshot.remotesInfo[remoteKey];\n                        if (//eslint-disable-next-line no-extra-boolean-cast\n                        Boolean(share.Global.__FEDERATION__.__MANIFEST_LOADING__[remoteKey])) {\n                            delete share.Global.__FEDERATION__.__MANIFEST_LOADING__[remoteKey];\n                        }\n                    }\n                }\n                host.moduleCache.delete(remote.name);\n            }\n        } catch (err) {\n            console.log('removeRemote fail: ', err);\n        }\n    }\n    constructor(host){\n        this.hooks = new PluginSystem({\n            beforeRegisterRemote: new SyncWaterfallHook('beforeRegisterRemote'),\n            registerRemote: new SyncWaterfallHook('registerRemote'),\n            beforeRequest: new AsyncWaterfallHook('beforeRequest'),\n            onLoad: new AsyncHook('onLoad'),\n            handlePreloadModule: new SyncHook('handlePreloadModule'),\n            errorLoadRemote: new AsyncHook('errorLoadRemote'),\n            beforePreloadRemote: new AsyncHook('beforePreloadRemote'),\n            generatePreloadAssets: new AsyncHook('generatePreloadAssets'),\n            // not used yet\n            afterPreloadRemote: new AsyncHook(),\n            loadEntry: new AsyncHook()\n        });\n        this.host = host;\n        this.idToRemoteMap = {};\n    }\n}\n\nclass FederationHost {\n    initOptions(userOptions) {\n        this.registerPlugins(userOptions.plugins);\n        const options = this.formatOptions(this.options, userOptions);\n        this.options = options;\n        return options;\n    }\n    async loadShare(pkgName, extraOptions) {\n        return this.sharedHandler.loadShare(pkgName, extraOptions);\n    }\n    // The lib function will only be available if the shared set by eager or runtime init is set or the shared is successfully loaded.\n    // 1. If the loaded shared already exists globally, then it will be reused\n    // 2. If lib exists in local shared, it will be used directly\n    // 3. If the local get returns something other than Promise, then it will be used directly\n    loadShareSync(pkgName, extraOptions) {\n        return this.sharedHandler.loadShareSync(pkgName, extraOptions);\n    }\n    initializeSharing(shareScopeName = share.DEFAULT_SCOPE, extraOptions) {\n        return this.sharedHandler.initializeSharing(shareScopeName, extraOptions);\n    }\n    initRawContainer(name, url, container) {\n        const remoteInfo = getRemoteInfo({\n            name,\n            entry: url\n        });\n        const module = new Module({\n            host: this,\n            remoteInfo\n        });\n        module.remoteEntryExports = container;\n        this.moduleCache.set(name, module);\n        return module;\n    }\n    // eslint-disable-next-line max-lines-per-function\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async loadRemote(id, options) {\n        return this.remoteHandler.loadRemote(id, options);\n    }\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    async preloadRemote(preloadOptions) {\n        return this.remoteHandler.preloadRemote(preloadOptions);\n    }\n    initShareScopeMap(scopeName, shareScope, extraOptions = {}) {\n        this.sharedHandler.initShareScopeMap(scopeName, shareScope, extraOptions);\n    }\n    formatOptions(globalOptions, userOptions) {\n        const { shared } = share.formatShareConfigs(globalOptions, userOptions);\n        const { userOptions: userOptionsRes, options: globalOptionsRes } = this.hooks.lifecycle.beforeInit.emit({\n            origin: this,\n            userOptions,\n            options: globalOptions,\n            shareInfo: shared\n        });\n        const remotes = this.remoteHandler.formatAndRegisterRemote(globalOptionsRes, userOptionsRes);\n        const { shared: handledShared } = this.sharedHandler.registerShared(globalOptionsRes, userOptionsRes);\n        const plugins = [\n            ...globalOptionsRes.plugins\n        ];\n        if (userOptionsRes.plugins) {\n            userOptionsRes.plugins.forEach((plugin)=>{\n                if (!plugins.includes(plugin)) {\n                    plugins.push(plugin);\n                }\n            });\n        }\n        const optionsRes = polyfills._extends({}, globalOptions, userOptions, {\n            plugins,\n            remotes,\n            shared: handledShared\n        });\n        this.hooks.lifecycle.init.emit({\n            origin: this,\n            options: optionsRes\n        });\n        return optionsRes;\n    }\n    registerPlugins(plugins) {\n        const pluginRes = registerPlugins$1(plugins, [\n            this.hooks,\n            this.remoteHandler.hooks,\n            this.sharedHandler.hooks,\n            this.snapshotHandler.hooks,\n            this.loaderHook\n        ]);\n        // Merge plugin\n        this.options.plugins = this.options.plugins.reduce((res, plugin)=>{\n            if (!plugin) return res;\n            if (res && !res.find((item)=>item.name === plugin.name)) {\n                res.push(plugin);\n            }\n            return res;\n        }, pluginRes || []);\n    }\n    registerRemotes(remotes, options) {\n        return this.remoteHandler.registerRemotes(remotes, options);\n    }\n    constructor(userOptions){\n        this.hooks = new PluginSystem({\n            beforeInit: new SyncWaterfallHook('beforeInit'),\n            init: new SyncHook(),\n            // maybe will change, temporarily for internal use only\n            beforeInitContainer: new AsyncWaterfallHook('beforeInitContainer'),\n            // maybe will change, temporarily for internal use only\n            initContainer: new AsyncWaterfallHook('initContainer')\n        });\n        this.version = \"0.6.9\";\n        this.moduleCache = new Map();\n        this.loaderHook = new PluginSystem({\n            // FIXME: may not be suitable , not open to the public yet\n            getModuleInfo: new SyncHook(),\n            createScript: new SyncHook(),\n            createLink: new SyncHook(),\n            // only work for manifest , so not open to the public yet\n            fetch: new AsyncHook()\n        });\n        // TODO: Validate the details of the options\n        // Initialize options with default values\n        const defaultOptions = {\n            id: share.getBuilderId(),\n            name: userOptions.name,\n            plugins: [\n                snapshotPlugin(),\n                generatePreloadAssetsPlugin()\n            ],\n            remotes: [],\n            shared: {},\n            inBrowser: sdk.isBrowserEnv()\n        };\n        this.name = userOptions.name;\n        this.options = defaultOptions;\n        this.snapshotHandler = new SnapshotHandler(this);\n        this.sharedHandler = new SharedHandler(this);\n        this.remoteHandler = new RemoteHandler(this);\n        this.shareScopeMap = this.sharedHandler.shareScopeMap;\n        this.registerPlugins([\n            ...defaultOptions.plugins,\n            ...userOptions.plugins || []\n        ]);\n        this.options = this.formatOptions(defaultOptions, userOptions);\n    }\n}\n\nlet FederationInstance = null;\nfunction init(options) {\n    // Retrieve the same instance with the same name\n    const instance = share.getGlobalFederationInstance(options.name, options.version);\n    if (!instance) {\n        // Retrieve debug constructor\n        const FederationConstructor = share.getGlobalFederationConstructor() || FederationHost;\n        FederationInstance = new FederationConstructor(options);\n        share.setGlobalFederationInstance(FederationInstance);\n        return FederationInstance;\n    } else {\n        // Merge options\n        instance.initOptions(options);\n        if (!FederationInstance) {\n            FederationInstance = instance;\n        }\n        return instance;\n    }\n}\nfunction loadRemote(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    const loadRemote1 = FederationInstance.loadRemote;\n    // eslint-disable-next-line prefer-spread\n    return loadRemote1.apply(FederationInstance, args);\n}\nfunction loadShare(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    const loadShare1 = FederationInstance.loadShare;\n    return loadShare1.apply(FederationInstance, args);\n}\nfunction loadShareSync(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    const loadShareSync1 = FederationInstance.loadShareSync;\n    // eslint-disable-next-line prefer-spread\n    return loadShareSync1.apply(FederationInstance, args);\n}\nfunction preloadRemote(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.preloadRemote.apply(FederationInstance, args);\n}\nfunction registerRemotes(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.registerRemotes.apply(FederationInstance, args);\n}\nfunction registerPlugins(...args) {\n    share.assert(FederationInstance, 'Please call init first');\n    // eslint-disable-next-line prefer-spread\n    return FederationInstance.registerPlugins.apply(FederationInstance, args);\n}\nfunction getInstance() {\n    return FederationInstance;\n}\n// Inject for debug\nshare.setGlobalFederationConstructor(FederationHost);\n\nObject.defineProperty(exports, \"loadScript\", {\n  enumerable: true,\n  get: function () { return sdk.loadScript; }\n});\nObject.defineProperty(exports, \"loadScriptNode\", {\n  enumerable: true,\n  get: function () { return sdk.loadScriptNode; }\n});\nexports.registerGlobalPlugins = share.registerGlobalPlugins;\nexports.FederationHost = FederationHost;\nexports.Module = Module;\nexports.getInstance = getInstance;\nexports.getRemoteEntry = getRemoteEntry;\nexports.getRemoteInfo = getRemoteInfo;\nexports.init = init;\nexports.loadRemote = loadRemote;\nexports.loadShare = loadShare;\nexports.loadShareSync = loadShareSync;\nexports.preloadRemote = preloadRemote;\nexports.registerPlugins = registerPlugins;\nexports.registerRemotes = registerRemotes;\n","'use strict';\n\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nfunction _object_without_properties_loose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\nexports._extends = _extends;\nexports._object_without_properties_loose = _object_without_properties_loose;\n","'use strict';\n\nvar polyfills = require('./polyfills.cjs.js');\nvar sdk = require('@module-federation/sdk');\n\nfunction getBuilderId() {\n    //@ts-ignore\n    return typeof FEDERATION_BUILD_IDENTIFIER !== 'undefined' ? FEDERATION_BUILD_IDENTIFIER : '';\n}\n\nconst LOG_CATEGORY = '[ Federation Runtime ]';\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction assert(condition, msg) {\n    if (!condition) {\n        error(msg);\n    }\n}\nfunction error(msg) {\n    if (msg instanceof Error) {\n        msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        throw msg;\n    }\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n}\nfunction warn(msg) {\n    if (msg instanceof Error) {\n        msg.message = `${LOG_CATEGORY}: ${msg.message}`;\n        console.warn(msg);\n    } else {\n        console.warn(`${LOG_CATEGORY}: ${msg}`);\n    }\n}\n\nfunction addUniqueItem(arr, item) {\n    if (arr.findIndex((name)=>name === item) === -1) {\n        arr.push(item);\n    }\n    return arr;\n}\nfunction getFMId(remoteInfo) {\n    if ('version' in remoteInfo && remoteInfo.version) {\n        return `${remoteInfo.name}:${remoteInfo.version}`;\n    } else if ('entry' in remoteInfo && remoteInfo.entry) {\n        return `${remoteInfo.name}:${remoteInfo.entry}`;\n    } else {\n        return `${remoteInfo.name}`;\n    }\n}\nfunction isRemoteInfoWithEntry(remote) {\n    return typeof remote.entry !== 'undefined';\n}\nfunction isPureRemoteEntry(remote) {\n    return !remote.entry.includes('.json') && remote.entry.includes('.js');\n}\nfunction isObject(val) {\n    return val && typeof val === 'object';\n}\nconst objectToString = Object.prototype.toString;\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isPlainObject(val) {\n    return objectToString.call(val) === '[object Object]';\n}\nfunction arrayOptions(options) {\n    return Array.isArray(options) ? options : [\n        options\n    ];\n}\nfunction getRemoteEntryInfoFromSnapshot(snapshot) {\n    const defaultRemoteEntryInfo = {\n        url: '',\n        type: 'global',\n        globalName: ''\n    };\n    if (sdk.isBrowserEnv()) {\n        return 'remoteEntry' in snapshot ? {\n            url: snapshot.remoteEntry,\n            type: snapshot.remoteEntryType,\n            globalName: snapshot.globalName\n        } : defaultRemoteEntryInfo;\n    }\n    if ('ssrRemoteEntry' in snapshot) {\n        return {\n            url: snapshot.ssrRemoteEntry || defaultRemoteEntryInfo.url,\n            type: snapshot.ssrRemoteEntryType || defaultRemoteEntryInfo.type,\n            globalName: snapshot.globalName\n        };\n    }\n    return defaultRemoteEntryInfo;\n}\n\nconst nativeGlobal = (()=>{\n    try {\n        return new Function('return this')();\n    } catch (e) {\n        return globalThis;\n    }\n})();\nconst Global = nativeGlobal;\nfunction definePropertyGlobalVal(target, key, val) {\n    Object.defineProperty(target, key, {\n        value: val,\n        configurable: false,\n        writable: true\n    });\n}\nfunction includeOwnProperty(target, key) {\n    return Object.hasOwnProperty.call(target, key);\n}\n// This section is to prevent encapsulation by certain microfrontend frameworks. Due to reuse policies, sandbox escapes.\n// The sandbox in the microfrontend does not replicate the value of 'configurable'.\n// If there is no loading content on the global object, this section defines the loading object.\nif (!includeOwnProperty(globalThis, '__GLOBAL_LOADING_REMOTE_ENTRY__')) {\n    definePropertyGlobalVal(globalThis, '__GLOBAL_LOADING_REMOTE_ENTRY__', {});\n}\nconst globalLoading = globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;\nfunction setGlobalDefaultVal(target) {\n    var _target___FEDERATION__, _target___FEDERATION__1, _target___FEDERATION__2, _target___FEDERATION__3, _target___FEDERATION__4, _target___FEDERATION__5;\n    if (includeOwnProperty(target, '__VMOK__') && !includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', target.__VMOK__);\n    }\n    if (!includeOwnProperty(target, '__FEDERATION__')) {\n        definePropertyGlobalVal(target, '__FEDERATION__', {\n            __GLOBAL_PLUGIN__: [],\n            __INSTANCES__: [],\n            moduleInfo: {},\n            __SHARE__: {},\n            __MANIFEST_LOADING__: {},\n            __PRELOADED_MAP__: new Map()\n        });\n        definePropertyGlobalVal(target, '__VMOK__', target.__FEDERATION__);\n    }\n    var ___GLOBAL_PLUGIN__;\n    (___GLOBAL_PLUGIN__ = (_target___FEDERATION__ = target.__FEDERATION__).__GLOBAL_PLUGIN__) != null ? ___GLOBAL_PLUGIN__ : _target___FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    var ___INSTANCES__;\n    (___INSTANCES__ = (_target___FEDERATION__1 = target.__FEDERATION__).__INSTANCES__) != null ? ___INSTANCES__ : _target___FEDERATION__1.__INSTANCES__ = [];\n    var _moduleInfo;\n    (_moduleInfo = (_target___FEDERATION__2 = target.__FEDERATION__).moduleInfo) != null ? _moduleInfo : _target___FEDERATION__2.moduleInfo = {};\n    var ___SHARE__;\n    (___SHARE__ = (_target___FEDERATION__3 = target.__FEDERATION__).__SHARE__) != null ? ___SHARE__ : _target___FEDERATION__3.__SHARE__ = {};\n    var ___MANIFEST_LOADING__;\n    (___MANIFEST_LOADING__ = (_target___FEDERATION__4 = target.__FEDERATION__).__MANIFEST_LOADING__) != null ? ___MANIFEST_LOADING__ : _target___FEDERATION__4.__MANIFEST_LOADING__ = {};\n    var ___PRELOADED_MAP__;\n    (___PRELOADED_MAP__ = (_target___FEDERATION__5 = target.__FEDERATION__).__PRELOADED_MAP__) != null ? ___PRELOADED_MAP__ : _target___FEDERATION__5.__PRELOADED_MAP__ = new Map();\n}\nsetGlobalDefaultVal(globalThis);\nsetGlobalDefaultVal(nativeGlobal);\nfunction resetFederationGlobalInfo() {\n    globalThis.__FEDERATION__.__GLOBAL_PLUGIN__ = [];\n    globalThis.__FEDERATION__.__INSTANCES__ = [];\n    globalThis.__FEDERATION__.moduleInfo = {};\n    globalThis.__FEDERATION__.__SHARE__ = {};\n    globalThis.__FEDERATION__.__MANIFEST_LOADING__ = {};\n}\nfunction getGlobalFederationInstance(name, version) {\n    const buildId = getBuilderId();\n    return globalThis.__FEDERATION__.__INSTANCES__.find((GMInstance)=>{\n        if (buildId && GMInstance.options.id === getBuilderId()) {\n            return true;\n        }\n        if (GMInstance.options.name === name && !GMInstance.options.version && !version) {\n            return true;\n        }\n        if (GMInstance.options.name === name && version && GMInstance.options.version === version) {\n            return true;\n        }\n        return false;\n    });\n}\nfunction setGlobalFederationInstance(FederationInstance) {\n    globalThis.__FEDERATION__.__INSTANCES__.push(FederationInstance);\n}\nfunction getGlobalFederationConstructor() {\n    return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__;\n}\nfunction setGlobalFederationConstructor(FederationConstructor, isDebug = sdk.isDebugMode()) {\n    if (isDebug) {\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__ = FederationConstructor;\n        globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__ = \"0.6.9\";\n    }\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction getInfoWithoutType(target, key) {\n    if (typeof key === 'string') {\n        const keyRes = target[key];\n        if (keyRes) {\n            return {\n                value: target[key],\n                key: key\n            };\n        } else {\n            const targetKeys = Object.keys(target);\n            for (const targetKey of targetKeys){\n                const [targetTypeOrName, _] = targetKey.split(':');\n                const nKey = `${targetTypeOrName}:${key}`;\n                const typeWithKeyRes = target[nKey];\n                if (typeWithKeyRes) {\n                    return {\n                        value: typeWithKeyRes,\n                        key: nKey\n                    };\n                }\n            }\n            return {\n                value: undefined,\n                key: key\n            };\n        }\n    } else {\n        throw new Error('key must be string');\n    }\n}\nconst getGlobalSnapshot = ()=>nativeGlobal.__FEDERATION__.moduleInfo;\nconst getTargetSnapshotInfoByModuleInfo = (moduleInfo, snapshot)=>{\n    // Check if the remote is included in the hostSnapshot\n    const moduleKey = getFMId(moduleInfo);\n    const getModuleInfo = getInfoWithoutType(snapshot, moduleKey).value;\n    // The remoteSnapshot might not include a version\n    if (getModuleInfo && !getModuleInfo.version && 'version' in moduleInfo && moduleInfo['version']) {\n        getModuleInfo.version = moduleInfo['version'];\n    }\n    if (getModuleInfo) {\n        return getModuleInfo;\n    }\n    // If the remote is not included in the hostSnapshot, deploy a micro app snapshot\n    if ('version' in moduleInfo && moduleInfo['version']) {\n        const { version } = moduleInfo, resModuleInfo = polyfills._object_without_properties_loose(moduleInfo, [\n            \"version\"\n        ]);\n        const moduleKeyWithoutVersion = getFMId(resModuleInfo);\n        const getModuleInfoWithoutVersion = getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo, moduleKeyWithoutVersion).value;\n        if ((getModuleInfoWithoutVersion == null ? void 0 : getModuleInfoWithoutVersion.version) === version) {\n            return getModuleInfoWithoutVersion;\n        }\n    }\n    return;\n};\nconst getGlobalSnapshotInfoByModuleInfo = (moduleInfo)=>getTargetSnapshotInfoByModuleInfo(moduleInfo, nativeGlobal.__FEDERATION__.moduleInfo);\nconst setGlobalSnapshotInfoByModuleInfo = (remoteInfo, moduleDetailInfo)=>{\n    const moduleKey = getFMId(remoteInfo);\n    nativeGlobal.__FEDERATION__.moduleInfo[moduleKey] = moduleDetailInfo;\n    return nativeGlobal.__FEDERATION__.moduleInfo;\n};\nconst addGlobalSnapshot = (moduleInfos)=>{\n    nativeGlobal.__FEDERATION__.moduleInfo = polyfills._extends({}, nativeGlobal.__FEDERATION__.moduleInfo, moduleInfos);\n    return ()=>{\n        const keys = Object.keys(moduleInfos);\n        for (const key of keys){\n            delete nativeGlobal.__FEDERATION__.moduleInfo[key];\n        }\n    };\n};\nconst getRemoteEntryExports = (name, globalName)=>{\n    const remoteEntryKey = globalName || `__FEDERATION_${name}:custom__`;\n    const entryExports = globalThis[remoteEntryKey];\n    return {\n        remoteEntryKey,\n        entryExports\n    };\n};\n// This function is used to register global plugins.\n// It iterates over the provided plugins and checks if they are already registered.\n// If a plugin is not registered, it is added to the global plugins.\n// If a plugin is already registered, a warning message is logged.\nconst registerGlobalPlugins = (plugins)=>{\n    const { __GLOBAL_PLUGIN__ } = nativeGlobal.__FEDERATION__;\n    plugins.forEach((plugin)=>{\n        if (__GLOBAL_PLUGIN__.findIndex((p)=>p.name === plugin.name) === -1) {\n            __GLOBAL_PLUGIN__.push(plugin);\n        } else {\n            warn(`The plugin ${plugin.name} has been registered.`);\n        }\n    });\n};\nconst getGlobalHostPlugins = ()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__;\nconst getPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(id);\nconst setPreloaded = (id)=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(id, true);\n\nconst DEFAULT_SCOPE = 'default';\nconst DEFAULT_REMOTE_TYPE = 'global';\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// those constants are based on https://www.rubydoc.info/gems/semantic_range/3.0.0/SemanticRange#BUILDIDENTIFIER-constant\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nconst buildIdentifier = '[0-9A-Za-z-]+';\nconst build = `(?:\\\\+(${buildIdentifier}(?:\\\\.${buildIdentifier})*))`;\nconst numericIdentifier = '0|[1-9]\\\\d*';\nconst numericIdentifierLoose = '[0-9]+';\nconst nonNumericIdentifier = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\nconst preReleaseIdentifierLoose = `(?:${numericIdentifierLoose}|${nonNumericIdentifier})`;\nconst preReleaseLoose = `(?:-?(${preReleaseIdentifierLoose}(?:\\\\.${preReleaseIdentifierLoose})*))`;\nconst preReleaseIdentifier = `(?:${numericIdentifier}|${nonNumericIdentifier})`;\nconst preRelease = `(?:-(${preReleaseIdentifier}(?:\\\\.${preReleaseIdentifier})*))`;\nconst xRangeIdentifier = `${numericIdentifier}|x|X|\\\\*`;\nconst xRangePlain = `[v=\\\\s]*(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:\\\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`;\nconst hyphenRange = `^\\\\s*(${xRangePlain})\\\\s+-\\\\s+(${xRangePlain})\\\\s*$`;\nconst mainVersionLoose = `(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})\\\\.(${numericIdentifierLoose})`;\nconst loosePlain = `[v=\\\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`;\nconst gtlt = '((?:<|>)?=?)';\nconst comparatorTrim = `(\\\\s*)${gtlt}\\\\s*(${loosePlain}|${xRangePlain})`;\nconst loneTilde = '(?:~>?)';\nconst tildeTrim = `(\\\\s*)${loneTilde}\\\\s+`;\nconst loneCaret = '(?:\\\\^)';\nconst caretTrim = `(\\\\s*)${loneCaret}\\\\s+`;\nconst star = '(<|>)?=?\\\\s*\\\\*';\nconst caret = `^${loneCaret}${xRangePlain}$`;\nconst mainVersion = `(${numericIdentifier})\\\\.(${numericIdentifier})\\\\.(${numericIdentifier})`;\nconst fullPlain = `v?${mainVersion}${preRelease}?${build}?`;\nconst tilde = `^${loneTilde}${xRangePlain}$`;\nconst xRange = `^${gtlt}\\\\s*${xRangePlain}$`;\nconst comparator = `^${gtlt}\\\\s*(${fullPlain})$|^$`;\n// copy from semver package\nconst gte0 = '^\\\\s*>=\\\\s*0.0.0\\\\s*$';\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction parseRegex(source) {\n    return new RegExp(source);\n}\nfunction isXVersion(version) {\n    return !version || version.toLowerCase() === 'x' || version === '*';\n}\nfunction pipe(...fns) {\n    return (x)=>fns.reduce((v, f)=>f(v), x);\n}\nfunction extractComparator(comparatorString) {\n    return comparatorString.match(parseRegex(comparator));\n}\nfunction combineVersion(major, minor, patch, preRelease) {\n    const mainVersion = `${major}.${minor}.${patch}`;\n    if (preRelease) {\n        return `${mainVersion}-${preRelease}`;\n    }\n    return mainVersion;\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction parseHyphen(range) {\n    return range.replace(parseRegex(hyphenRange), (_range, from, fromMajor, fromMinor, fromPatch, _fromPreRelease, _fromBuild, to, toMajor, toMinor, toPatch, toPreRelease)=>{\n        if (isXVersion(fromMajor)) {\n            from = '';\n        } else if (isXVersion(fromMinor)) {\n            from = `>=${fromMajor}.0.0`;\n        } else if (isXVersion(fromPatch)) {\n            from = `>=${fromMajor}.${fromMinor}.0`;\n        } else {\n            from = `>=${from}`;\n        }\n        if (isXVersion(toMajor)) {\n            to = '';\n        } else if (isXVersion(toMinor)) {\n            to = `<${Number(toMajor) + 1}.0.0-0`;\n        } else if (isXVersion(toPatch)) {\n            to = `<${toMajor}.${Number(toMinor) + 1}.0-0`;\n        } else if (toPreRelease) {\n            to = `<=${toMajor}.${toMinor}.${toPatch}-${toPreRelease}`;\n        } else {\n            to = `<=${to}`;\n        }\n        return `${from} ${to}`.trim();\n    });\n}\nfunction parseComparatorTrim(range) {\n    return range.replace(parseRegex(comparatorTrim), '$1$2$3');\n}\nfunction parseTildeTrim(range) {\n    return range.replace(parseRegex(tildeTrim), '$1~');\n}\nfunction parseCaretTrim(range) {\n    return range.replace(parseRegex(caretTrim), '$1^');\n}\nfunction parseCarets(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(caret), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                if (major === '0') {\n                    return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n                } else {\n                    return `>=${major}.${minor}.0 <${Number(major) + 1}.0.0-0`;\n                }\n            } else if (preRelease) {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                } else {\n                    return `>=${major}.${minor}.${patch}-${preRelease} <${Number(major) + 1}.0.0-0`;\n                }\n            } else {\n                if (major === '0') {\n                    if (minor === '0') {\n                        return `>=${major}.${minor}.${patch} <${major}.${minor}.${Number(patch) + 1}-0`;\n                    } else {\n                        return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n                    }\n                }\n                return `>=${major}.${minor}.${patch} <${Number(major) + 1}.0.0-0`;\n            }\n        })).join(' ');\n}\nfunction parseTildes(range) {\n    return range.trim().split(/\\s+/).map((rangeVersion)=>rangeVersion.replace(parseRegex(tilde), (_, major, minor, patch, preRelease)=>{\n            if (isXVersion(major)) {\n                return '';\n            } else if (isXVersion(minor)) {\n                return `>=${major}.0.0 <${Number(major) + 1}.0.0-0`;\n            } else if (isXVersion(patch)) {\n                return `>=${major}.${minor}.0 <${major}.${Number(minor) + 1}.0-0`;\n            } else if (preRelease) {\n                return `>=${major}.${minor}.${patch}-${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return `>=${major}.${minor}.${patch} <${major}.${Number(minor) + 1}.0-0`;\n        })).join(' ');\n}\nfunction parseXRanges(range) {\n    return range.split(/\\s+/).map((rangeVersion)=>rangeVersion.trim().replace(parseRegex(xRange), (ret, gtlt, major, minor, patch, preRelease)=>{\n            const isXMajor = isXVersion(major);\n            const isXMinor = isXMajor || isXVersion(minor);\n            const isXPatch = isXMinor || isXVersion(patch);\n            if (gtlt === '=' && isXPatch) {\n                gtlt = '';\n            }\n            preRelease = '';\n            if (isXMajor) {\n                if (gtlt === '>' || gtlt === '<') {\n                    // nothing is allowed\n                    return '<0.0.0-0';\n                } else {\n                    // nothing is forbidden\n                    return '*';\n                }\n            } else if (gtlt && isXPatch) {\n                // replace X with 0\n                if (isXMinor) {\n                    minor = 0;\n                }\n                patch = 0;\n                if (gtlt === '>') {\n                    // >1 => >=2.0.0\n                    // >1.2 => >=1.3.0\n                    gtlt = '>=';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                        minor = 0;\n                        patch = 0;\n                    } else {\n                        minor = Number(minor) + 1;\n                        patch = 0;\n                    }\n                } else if (gtlt === '<=') {\n                    // <=0.7.x is actually <0.8.0, since any 0.7.x should pass\n                    // Similarly, <=7.x is actually <8.0.0, etc.\n                    gtlt = '<';\n                    if (isXMinor) {\n                        major = Number(major) + 1;\n                    } else {\n                        minor = Number(minor) + 1;\n                    }\n                }\n                if (gtlt === '<') {\n                    preRelease = '-0';\n                }\n                return `${gtlt + major}.${minor}.${patch}${preRelease}`;\n            } else if (isXMinor) {\n                return `>=${major}.0.0${preRelease} <${Number(major) + 1}.0.0-0`;\n            } else if (isXPatch) {\n                return `>=${major}.${minor}.0${preRelease} <${major}.${Number(minor) + 1}.0-0`;\n            }\n            return ret;\n        })).join(' ');\n}\nfunction parseStar(range) {\n    return range.trim().replace(parseRegex(star), '');\n}\nfunction parseGTE0(comparatorString) {\n    return comparatorString.trim().replace(parseRegex(gte0), '');\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction compareAtom(rangeAtom, versionAtom) {\n    rangeAtom = Number(rangeAtom) || rangeAtom;\n    versionAtom = Number(versionAtom) || versionAtom;\n    if (rangeAtom > versionAtom) {\n        return 1;\n    }\n    if (rangeAtom === versionAtom) {\n        return 0;\n    }\n    return -1;\n}\nfunction comparePreRelease(rangeAtom, versionAtom) {\n    const { preRelease: rangePreRelease } = rangeAtom;\n    const { preRelease: versionPreRelease } = versionAtom;\n    if (rangePreRelease === undefined && Boolean(versionPreRelease)) {\n        return 1;\n    }\n    if (Boolean(rangePreRelease) && versionPreRelease === undefined) {\n        return -1;\n    }\n    if (rangePreRelease === undefined && versionPreRelease === undefined) {\n        return 0;\n    }\n    for(let i = 0, n = rangePreRelease.length; i <= n; i++){\n        const rangeElement = rangePreRelease[i];\n        const versionElement = versionPreRelease[i];\n        if (rangeElement === versionElement) {\n            continue;\n        }\n        if (rangeElement === undefined && versionElement === undefined) {\n            return 0;\n        }\n        if (!rangeElement) {\n            return 1;\n        }\n        if (!versionElement) {\n            return -1;\n        }\n        return compareAtom(rangeElement, versionElement);\n    }\n    return 0;\n}\nfunction compareVersion(rangeAtom, versionAtom) {\n    return compareAtom(rangeAtom.major, versionAtom.major) || compareAtom(rangeAtom.minor, versionAtom.minor) || compareAtom(rangeAtom.patch, versionAtom.patch) || comparePreRelease(rangeAtom, versionAtom);\n}\nfunction eq(rangeAtom, versionAtom) {\n    return rangeAtom.version === versionAtom.version;\n}\nfunction compare(rangeAtom, versionAtom) {\n    switch(rangeAtom.operator){\n        case '':\n        case '=':\n            return eq(rangeAtom, versionAtom);\n        case '>':\n            return compareVersion(rangeAtom, versionAtom) < 0;\n        case '>=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) < 0;\n        case '<':\n            return compareVersion(rangeAtom, versionAtom) > 0;\n        case '<=':\n            return eq(rangeAtom, versionAtom) || compareVersion(rangeAtom, versionAtom) > 0;\n        case undefined:\n            {\n                // mean * or x -> all versions\n                return true;\n            }\n        default:\n            return false;\n    }\n}\n\n// fork from https://github.com/originjs/vite-plugin-federation/blob/v1.1.12/packages/lib/src/utils/semver/index.ts\n// Copyright (c)\n// vite-plugin-federation is licensed under Mulan PSL v2.\n// You can use this software according to the terms and conditions of the Mulan PSL v2.\n// You may obtain a copy of Mulan PSL v2 at:\n//      http://license.coscl.org.cn/MulanPSL2\n// THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\n// See the Mulan PSL v2 for more details.\nfunction parseComparatorString(range) {\n    return pipe(// handle caret\n    // ^ --> * (any, kinda silly)\n    // ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n    // ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n    // ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n    // ^1.2.3 --> >=1.2.3 <2.0.0-0\n    // ^1.2.0 --> >=1.2.0 <2.0.0-0\n    parseCarets, // handle tilde\n    // ~, ~> --> * (any, kinda silly)\n    // ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n    // ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n    // ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n    // ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n    // ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n    parseTildes, parseXRanges, parseStar)(range);\n}\nfunction parseRange(range) {\n    return pipe(// handle hyphenRange\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    parseHyphen, // handle trim comparator\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    parseComparatorTrim, // handle trim tilde\n    // `~ 1.2.3` => `~1.2.3`\n    parseTildeTrim, // handle trim caret\n    // `^ 1.2.3` => `^1.2.3`\n    parseCaretTrim)(range.trim()).split(/\\s+/).join(' ');\n}\nfunction satisfy(version, range) {\n    if (!version) {\n        return false;\n    }\n    const parsedRange = parseRange(range);\n    const parsedComparator = parsedRange.split(' ').map((rangeVersion)=>parseComparatorString(rangeVersion)).join(' ');\n    const comparators = parsedComparator.split(/\\s+/).map((comparator)=>parseGTE0(comparator));\n    const extractedVersion = extractComparator(version);\n    if (!extractedVersion) {\n        return false;\n    }\n    const [, versionOperator, , versionMajor, versionMinor, versionPatch, versionPreRelease] = extractedVersion;\n    const versionAtom = {\n        operator: versionOperator,\n        version: combineVersion(versionMajor, versionMinor, versionPatch, versionPreRelease),\n        major: versionMajor,\n        minor: versionMinor,\n        patch: versionPatch,\n        preRelease: versionPreRelease == null ? void 0 : versionPreRelease.split('.')\n    };\n    for (const comparator of comparators){\n        const extractedComparator = extractComparator(comparator);\n        if (!extractedComparator) {\n            return false;\n        }\n        const [, rangeOperator, , rangeMajor, rangeMinor, rangePatch, rangePreRelease] = extractedComparator;\n        const rangeAtom = {\n            operator: rangeOperator,\n            version: combineVersion(rangeMajor, rangeMinor, rangePatch, rangePreRelease),\n            major: rangeMajor,\n            minor: rangeMinor,\n            patch: rangePatch,\n            preRelease: rangePreRelease == null ? void 0 : rangePreRelease.split('.')\n        };\n        if (!compare(rangeAtom, versionAtom)) {\n            return false; // early return\n        }\n    }\n    return true;\n}\n\nfunction formatShare(shareArgs, from, name, shareStrategy) {\n    let get;\n    if ('get' in shareArgs) {\n        // eslint-disable-next-line prefer-destructuring\n        get = shareArgs.get;\n    } else if ('lib' in shareArgs) {\n        get = ()=>Promise.resolve(shareArgs.lib);\n    } else {\n        get = ()=>Promise.resolve(()=>{\n                throw new Error(`Can not get shared '${name}'!`);\n            });\n    }\n    if (shareArgs.strategy) {\n        warn(`\"shared.strategy is deprecated, please set in initOptions.shareStrategy instead!\"`);\n    }\n    var _shareArgs_version, _shareArgs_scope, _shareArgs_strategy;\n    return polyfills._extends({\n        deps: [],\n        useIn: [],\n        from,\n        loading: null\n    }, shareArgs, {\n        shareConfig: polyfills._extends({\n            requiredVersion: `^${shareArgs.version}`,\n            singleton: false,\n            eager: false,\n            strictVersion: false\n        }, shareArgs.shareConfig),\n        get,\n        loaded: (shareArgs == null ? void 0 : shareArgs.loaded) || 'lib' in shareArgs ? true : undefined,\n        version: (_shareArgs_version = shareArgs.version) != null ? _shareArgs_version : '0',\n        scope: Array.isArray(shareArgs.scope) ? shareArgs.scope : [\n            (_shareArgs_scope = shareArgs.scope) != null ? _shareArgs_scope : 'default'\n        ],\n        strategy: ((_shareArgs_strategy = shareArgs.strategy) != null ? _shareArgs_strategy : shareStrategy) || 'version-first'\n    });\n}\nfunction formatShareConfigs(globalOptions, userOptions) {\n    const shareArgs = userOptions.shared || {};\n    const from = userOptions.name;\n    const shareInfos = Object.keys(shareArgs).reduce((res, pkgName)=>{\n        const arrayShareArgs = arrayOptions(shareArgs[pkgName]);\n        res[pkgName] = res[pkgName] || [];\n        arrayShareArgs.forEach((shareConfig)=>{\n            res[pkgName].push(formatShare(shareConfig, from, pkgName, userOptions.shareStrategy));\n        });\n        return res;\n    }, {});\n    const shared = polyfills._extends({}, globalOptions.shared);\n    Object.keys(shareInfos).forEach((shareKey)=>{\n        if (!shared[shareKey]) {\n            shared[shareKey] = shareInfos[shareKey];\n        } else {\n            shareInfos[shareKey].forEach((newUserSharedOptions)=>{\n                const isSameVersion = shared[shareKey].find((sharedVal)=>sharedVal.version === newUserSharedOptions.version);\n                if (!isSameVersion) {\n                    shared[shareKey].push(newUserSharedOptions);\n                }\n            });\n        }\n    });\n    return {\n        shared,\n        shareInfos\n    };\n}\nfunction versionLt(a, b) {\n    const transformInvalidVersion = (version)=>{\n        const isNumberVersion = !Number.isNaN(Number(version));\n        if (isNumberVersion) {\n            const splitArr = version.split('.');\n            let validVersion = version;\n            for(let i = 0; i < 3 - splitArr.length; i++){\n                validVersion += '.0';\n            }\n            return validVersion;\n        }\n        return version;\n    };\n    if (satisfy(transformInvalidVersion(a), `<=${transformInvalidVersion(b)}`)) {\n        return true;\n    } else {\n        return false;\n    }\n}\nconst findVersion = (shareVersionMap, cb)=>{\n    const callback = cb || function(prev, cur) {\n        return versionLt(prev, cur);\n    };\n    return Object.keys(shareVersionMap).reduce((prev, cur)=>{\n        if (!prev) {\n            return cur;\n        }\n        if (callback(prev, cur)) {\n            return cur;\n        }\n        // default version is '0' https://github.com/webpack/webpack/blob/main/lib/sharing/ProvideSharedModule.js#L136\n        if (prev === '0') {\n            return cur;\n        }\n        return prev;\n    }, 0);\n};\nconst isLoaded = (shared)=>{\n    return Boolean(shared.loaded) || typeof shared.lib === 'function';\n};\nfunction findSingletonVersionOrderByVersion(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        return !isLoaded(versions[prev]) && versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction findSingletonVersionOrderByLoaded(shareScopeMap, scope, pkgName) {\n    const versions = shareScopeMap[scope][pkgName];\n    const callback = function(prev, cur) {\n        if (isLoaded(versions[cur])) {\n            if (isLoaded(versions[prev])) {\n                return Boolean(versionLt(prev, cur));\n            } else {\n                return true;\n            }\n        }\n        if (isLoaded(versions[prev])) {\n            return false;\n        }\n        return versionLt(prev, cur);\n    };\n    return findVersion(shareScopeMap[scope][pkgName], callback);\n}\nfunction getFindShareFunction(strategy) {\n    if (strategy === 'loaded-first') {\n        return findSingletonVersionOrderByLoaded;\n    }\n    return findSingletonVersionOrderByVersion;\n}\nfunction getRegisteredShare(localShareScopeMap, pkgName, shareInfo, resolveShare) {\n    if (!localShareScopeMap) {\n        return;\n    }\n    const { shareConfig, scope = DEFAULT_SCOPE, strategy } = shareInfo;\n    const scopes = Array.isArray(scope) ? scope : [\n        scope\n    ];\n    for (const sc of scopes){\n        if (shareConfig && localShareScopeMap[sc] && localShareScopeMap[sc][pkgName]) {\n            const { requiredVersion } = shareConfig;\n            const findShareFunction = getFindShareFunction(strategy);\n            const maxOrSingletonVersion = findShareFunction(localShareScopeMap, sc, pkgName);\n            //@ts-ignore\n            const defaultResolver = ()=>{\n                if (shareConfig.singleton) {\n                    if (typeof requiredVersion === 'string' && !satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        const msg = `Version ${maxOrSingletonVersion} from ${maxOrSingletonVersion && localShareScopeMap[sc][pkgName][maxOrSingletonVersion].from} of shared singleton module ${pkgName} does not satisfy the requirement of ${shareInfo.from} which needs ${requiredVersion})`;\n                        if (shareConfig.strictVersion) {\n                            error(msg);\n                        } else {\n                            warn(msg);\n                        }\n                    }\n                    return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                } else {\n                    if (requiredVersion === false || requiredVersion === '*') {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    if (satisfy(maxOrSingletonVersion, requiredVersion)) {\n                        return localShareScopeMap[sc][pkgName][maxOrSingletonVersion];\n                    }\n                    for (const [versionKey, versionValue] of Object.entries(localShareScopeMap[sc][pkgName])){\n                        if (satisfy(versionKey, requiredVersion)) {\n                            return versionValue;\n                        }\n                    }\n                }\n            };\n            const params = {\n                shareScopeMap: localShareScopeMap,\n                scope: sc,\n                pkgName,\n                version: maxOrSingletonVersion,\n                GlobalFederation: Global.__FEDERATION__,\n                resolver: defaultResolver\n            };\n            const resolveShared = resolveShare.emit(params) || params;\n            return resolveShared.resolver();\n        }\n    }\n}\nfunction getGlobalShareScope() {\n    return Global.__FEDERATION__.__SHARE__;\n}\nfunction getTargetSharedOptions(options) {\n    const { pkgName, extraOptions, shareInfos } = options;\n    const defaultResolver = (sharedOptions)=>{\n        if (!sharedOptions) {\n            return undefined;\n        }\n        const shareVersionMap = {};\n        sharedOptions.forEach((shared)=>{\n            shareVersionMap[shared.version] = shared;\n        });\n        const callback = function(prev, cur) {\n            return !isLoaded(shareVersionMap[prev]) && versionLt(prev, cur);\n        };\n        const maxVersion = findVersion(shareVersionMap, callback);\n        return shareVersionMap[maxVersion];\n    };\n    var _extraOptions_resolver;\n    const resolver = (_extraOptions_resolver = extraOptions == null ? void 0 : extraOptions.resolver) != null ? _extraOptions_resolver : defaultResolver;\n    return Object.assign({}, resolver(shareInfos[pkgName]), extraOptions == null ? void 0 : extraOptions.customShareInfo);\n}\n\nexports.DEFAULT_REMOTE_TYPE = DEFAULT_REMOTE_TYPE;\nexports.DEFAULT_SCOPE = DEFAULT_SCOPE;\nexports.Global = Global;\nexports.addGlobalSnapshot = addGlobalSnapshot;\nexports.addUniqueItem = addUniqueItem;\nexports.arrayOptions = arrayOptions;\nexports.assert = assert;\nexports.error = error;\nexports.formatShareConfigs = formatShareConfigs;\nexports.getBuilderId = getBuilderId;\nexports.getFMId = getFMId;\nexports.getGlobalFederationConstructor = getGlobalFederationConstructor;\nexports.getGlobalFederationInstance = getGlobalFederationInstance;\nexports.getGlobalHostPlugins = getGlobalHostPlugins;\nexports.getGlobalShareScope = getGlobalShareScope;\nexports.getGlobalSnapshot = getGlobalSnapshot;\nexports.getGlobalSnapshotInfoByModuleInfo = getGlobalSnapshotInfoByModuleInfo;\nexports.getInfoWithoutType = getInfoWithoutType;\nexports.getPreloaded = getPreloaded;\nexports.getRegisteredShare = getRegisteredShare;\nexports.getRemoteEntryExports = getRemoteEntryExports;\nexports.getRemoteEntryInfoFromSnapshot = getRemoteEntryInfoFromSnapshot;\nexports.getTargetSharedOptions = getTargetSharedOptions;\nexports.getTargetSnapshotInfoByModuleInfo = getTargetSnapshotInfoByModuleInfo;\nexports.globalLoading = globalLoading;\nexports.isObject = isObject;\nexports.isPlainObject = isPlainObject;\nexports.isPureRemoteEntry = isPureRemoteEntry;\nexports.isRemoteInfoWithEntry = isRemoteInfoWithEntry;\nexports.nativeGlobal = nativeGlobal;\nexports.registerGlobalPlugins = registerGlobalPlugins;\nexports.resetFederationGlobalInfo = resetFederationGlobalInfo;\nexports.setGlobalFederationConstructor = setGlobalFederationConstructor;\nexports.setGlobalFederationInstance = setGlobalFederationInstance;\nexports.setGlobalSnapshotInfoByModuleInfo = setGlobalSnapshotInfoByModuleInfo;\nexports.setPreloaded = setPreloaded;\nexports.warn = warn;\n","'use strict';\n\nvar polyfills = require('./polyfills.cjs.js');\n\nconst FederationModuleManifest = 'federation-manifest.json';\nconst MANIFEST_EXT = '.json';\nconst BROWSER_LOG_KEY = 'FEDERATION_DEBUG';\nconst BROWSER_LOG_VALUE = '1';\nconst NameTransformSymbol = {\n    AT: '@',\n    HYPHEN: '-',\n    SLASH: '/'\n};\nconst NameTransformMap = {\n    [NameTransformSymbol.AT]: 'scope_',\n    [NameTransformSymbol.HYPHEN]: '_',\n    [NameTransformSymbol.SLASH]: '__'\n};\nconst EncodedNameTransformMap = {\n    [NameTransformMap[NameTransformSymbol.AT]]: NameTransformSymbol.AT,\n    [NameTransformMap[NameTransformSymbol.HYPHEN]]: NameTransformSymbol.HYPHEN,\n    [NameTransformMap[NameTransformSymbol.SLASH]]: NameTransformSymbol.SLASH\n};\nconst SEPARATOR = ':';\nconst ManifestFileName = 'mf-manifest.json';\nconst StatsFileName = 'mf-stats.json';\nconst MFModuleType = {\n    NPM: 'npm',\n    APP: 'app'\n};\nconst MODULE_DEVTOOL_IDENTIFIER = '__MF_DEVTOOLS_MODULE_INFO__';\nconst ENCODE_NAME_PREFIX = 'ENCODE_NAME_PREFIX';\nconst TEMP_DIR = '.federation';\nconst MFPrefetchCommon = {\n    identifier: 'MFDataPrefetch',\n    globalKey: '__PREFETCH__',\n    library: 'mf-data-prefetch',\n    exportsKey: '__PREFETCH_EXPORTS__',\n    fileName: 'bootstrap.js'\n};\n\nvar ContainerPlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nvar ContainerReferencePlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nvar ModuleFederationPlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nvar SharePlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nfunction isBrowserEnv() {\n    return typeof window !== 'undefined';\n}\nfunction isDebugMode() {\n    if (typeof process !== 'undefined' && process.env && process.env['FEDERATION_DEBUG']) {\n        return Boolean(process.env['FEDERATION_DEBUG']);\n    }\n    return typeof FEDERATION_DEBUG !== 'undefined' && Boolean(FEDERATION_DEBUG);\n}\nconst getProcessEnv = function() {\n    return typeof process !== 'undefined' && process.env ? process.env : {};\n};\n\nconst DEBUG_LOG = '[ FEDERATION DEBUG ]';\nfunction safeToString$1(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return '';\n    }\n}\nfunction safeGetLocalStorageItem() {\n    try {\n        if (typeof window !== 'undefined' && window.localStorage) {\n            return localStorage.getItem(BROWSER_LOG_KEY) === BROWSER_LOG_VALUE;\n        }\n    } catch (error) {\n        return typeof document !== 'undefined';\n    }\n    return false;\n}\nlet Logger = class Logger {\n    info(msg, info) {\n        if (this.enable) {\n            const argsToString = safeToString$1(info) || '';\n            if (isBrowserEnv()) {\n                console.info(`%c ${this.identifier}: ${msg} ${argsToString}`, 'color:#3300CC');\n            } else {\n                console.info('\\x1b[34m%s', `${this.identifier}: ${msg} ${argsToString ? `\\n${argsToString}` : ''}`);\n            }\n        }\n    }\n    logOriginalInfo(...args) {\n        if (this.enable) {\n            if (isBrowserEnv()) {\n                console.info(`%c ${this.identifier}: OriginalInfo`, 'color:#3300CC');\n                console.log(...args);\n            } else {\n                console.info(`%c ${this.identifier}: OriginalInfo`, 'color:#3300CC');\n                console.log(...args);\n            }\n        }\n    }\n    constructor(identifier){\n        this.enable = false;\n        this.identifier = identifier || DEBUG_LOG;\n        if (isBrowserEnv() && safeGetLocalStorageItem()) {\n            this.enable = true;\n        } else if (isDebugMode()) {\n            this.enable = true;\n        }\n    }\n};\n\nconst LOG_CATEGORY = '[ Federation Runtime ]';\n// entry: name:version   version : 1.0.0 | ^1.2.3\n// entry: name:entry  entry:  https://localhost:9000/federation-manifest.json\nconst parseEntry = (str, devVerOrUrl, separator = SEPARATOR)=>{\n    const strSplit = str.split(separator);\n    const devVersionOrUrl = getProcessEnv()['NODE_ENV'] === 'development' && devVerOrUrl;\n    const defaultVersion = '*';\n    const isEntry = (s)=>s.startsWith('http') || s.includes(MANIFEST_EXT);\n    // Check if the string starts with a type\n    if (strSplit.length >= 2) {\n        let [name, ...versionOrEntryArr] = strSplit;\n        if (str.startsWith(separator)) {\n            versionOrEntryArr = [\n                devVersionOrUrl || strSplit.slice(-1)[0]\n            ];\n            name = strSplit.slice(0, -1).join(separator);\n        }\n        let versionOrEntry = devVersionOrUrl || versionOrEntryArr.join(separator);\n        if (isEntry(versionOrEntry)) {\n            return {\n                name,\n                entry: versionOrEntry\n            };\n        } else {\n            // Apply version rule\n            // devVersionOrUrl => inputVersion => defaultVersion\n            return {\n                name,\n                version: versionOrEntry || defaultVersion\n            };\n        }\n    } else if (strSplit.length === 1) {\n        const [name] = strSplit;\n        if (devVersionOrUrl && isEntry(devVersionOrUrl)) {\n            return {\n                name,\n                entry: devVersionOrUrl\n            };\n        }\n        return {\n            name,\n            version: devVersionOrUrl || defaultVersion\n        };\n    } else {\n        throw `Invalid entry value: ${str}`;\n    }\n};\nconst logger = new Logger();\nconst composeKeyWithSeparator = function(...args) {\n    if (!args.length) {\n        return '';\n    }\n    return args.reduce((sum, cur)=>{\n        if (!cur) {\n            return sum;\n        }\n        if (!sum) {\n            return cur;\n        }\n        return `${sum}${SEPARATOR}${cur}`;\n    }, '');\n};\nconst encodeName = function(name, prefix = '', withExt = false) {\n    try {\n        const ext = withExt ? '.js' : '';\n        return `${prefix}${name.replace(new RegExp(`${NameTransformSymbol.AT}`, 'g'), NameTransformMap[NameTransformSymbol.AT]).replace(new RegExp(`${NameTransformSymbol.HYPHEN}`, 'g'), NameTransformMap[NameTransformSymbol.HYPHEN]).replace(new RegExp(`${NameTransformSymbol.SLASH}`, 'g'), NameTransformMap[NameTransformSymbol.SLASH])}${ext}`;\n    } catch (err) {\n        throw err;\n    }\n};\nconst decodeName = function(name, prefix, withExt) {\n    try {\n        let decodedName = name;\n        if (prefix) {\n            if (!decodedName.startsWith(prefix)) {\n                return decodedName;\n            }\n            decodedName = decodedName.replace(new RegExp(prefix, 'g'), '');\n        }\n        decodedName = decodedName.replace(new RegExp(`${NameTransformMap[NameTransformSymbol.AT]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.SLASH]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.HYPHEN]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]);\n        if (withExt) {\n            decodedName = decodedName.replace('.js', '');\n        }\n        return decodedName;\n    } catch (err) {\n        throw err;\n    }\n};\nconst generateExposeFilename = (exposeName, withExt)=>{\n    if (!exposeName) {\n        return '';\n    }\n    let expose = exposeName;\n    if (expose === '.') {\n        expose = 'default_export';\n    }\n    if (expose.startsWith('./')) {\n        expose = expose.replace('./', '');\n    }\n    return encodeName(expose, '__federation_expose_', withExt);\n};\nconst generateShareFilename = (pkgName, withExt)=>{\n    if (!pkgName) {\n        return '';\n    }\n    return encodeName(pkgName, '__federation_shared_', withExt);\n};\nconst getResourceUrl = (module, sourceUrl)=>{\n    if ('getPublicPath' in module) {\n        let publicPath;\n        if (!module.getPublicPath.startsWith('function')) {\n            publicPath = new Function(module.getPublicPath)();\n        } else {\n            publicPath = new Function('return ' + module.getPublicPath)()();\n        }\n        return `${publicPath}${sourceUrl}`;\n    } else if ('publicPath' in module) {\n        return `${module.publicPath}${sourceUrl}`;\n    } else {\n        console.warn('Cannot get resource URL. If in debug mode, please ignore.', module, sourceUrl);\n        return '';\n    }\n};\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst assert = (condition, msg)=>{\n    if (!condition) {\n        error(msg);\n    }\n};\nconst error = (msg)=>{\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n};\nconst warn = (msg)=>{\n    console.warn(`${LOG_CATEGORY}: ${msg}`);\n};\nfunction safeToString(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return '';\n    }\n}\n\nconst simpleJoinRemoteEntry = (rPath, rName)=>{\n    if (!rPath) {\n        return rName;\n    }\n    const transformPath = (str)=>{\n        if (str === '.') {\n            return '';\n        }\n        if (str.startsWith('./')) {\n            return str.replace('./', '');\n        }\n        if (str.startsWith('/')) {\n            const strWithoutSlash = str.slice(1);\n            if (strWithoutSlash.endsWith('/')) {\n                return strWithoutSlash.slice(0, -1);\n            }\n            return strWithoutSlash;\n        }\n        return str;\n    };\n    const transformedPath = transformPath(rPath);\n    if (!transformedPath) {\n        return rName;\n    }\n    if (transformedPath.endsWith('/')) {\n        return `${transformedPath}${rName}`;\n    }\n    return `${transformedPath}/${rName}`;\n};\nfunction inferAutoPublicPath(url) {\n    return url.replace(/#.*$/, '').replace(/\\?.*$/, '').replace(/\\/[^\\/]+$/, '/');\n}\n// Priority: overrides > remotes\n// eslint-disable-next-line max-lines-per-function\nfunction generateSnapshotFromManifest(manifest, options = {}) {\n    var _manifest_metaData, _manifest_metaData1;\n    const { remotes = {}, overrides = {}, version } = options;\n    let remoteSnapshot;\n    const getPublicPath = ()=>{\n        if ('publicPath' in manifest.metaData) {\n            if (manifest.metaData.publicPath === 'auto' && version) {\n                // use same implementation as publicPath auto runtime module implements\n                return inferAutoPublicPath(version);\n            }\n            return manifest.metaData.publicPath;\n        } else {\n            return manifest.metaData.getPublicPath;\n        }\n    };\n    const overridesKeys = Object.keys(overrides);\n    let remotesInfo = {};\n    // If remotes are not provided, only the remotes in the manifest will be read\n    if (!Object.keys(remotes).length) {\n        var _manifest_remotes;\n        remotesInfo = ((_manifest_remotes = manifest.remotes) == null ? void 0 : _manifest_remotes.reduce((res, next)=>{\n            let matchedVersion;\n            const name = next.federationContainerName;\n            // overrides have higher priority\n            if (overridesKeys.includes(name)) {\n                matchedVersion = overrides[name];\n            } else {\n                if ('version' in next) {\n                    matchedVersion = next.version;\n                } else {\n                    matchedVersion = next.entry;\n                }\n            }\n            res[name] = {\n                matchedVersion\n            };\n            return res;\n        }, {})) || {};\n    }\n    // If remotes (deploy scenario) are specified, they need to be traversed again\n    Object.keys(remotes).forEach((key)=>remotesInfo[key] = {\n            // overrides will override dependencies\n            matchedVersion: overridesKeys.includes(key) ? overrides[key] : remotes[key]\n        });\n    const { remoteEntry: { path: remoteEntryPath, name: remoteEntryName, type: remoteEntryType }, types: remoteTypes, buildInfo: { buildVersion }, globalName, ssrRemoteEntry } = manifest.metaData;\n    const { exposes } = manifest;\n    let basicRemoteSnapshot = {\n        version: version ? version : '',\n        buildVersion,\n        globalName,\n        remoteEntry: simpleJoinRemoteEntry(remoteEntryPath, remoteEntryName),\n        remoteEntryType,\n        remoteTypes: simpleJoinRemoteEntry(remoteTypes.path, remoteTypes.name),\n        remoteTypesZip: remoteTypes.zip || '',\n        remoteTypesAPI: remoteTypes.api || '',\n        remotesInfo,\n        shared: manifest == null ? void 0 : manifest.shared.map((item)=>({\n                assets: item.assets,\n                sharedName: item.name,\n                version: item.version\n            })),\n        modules: exposes == null ? void 0 : exposes.map((expose)=>({\n                moduleName: expose.name,\n                modulePath: expose.path,\n                assets: expose.assets\n            }))\n    };\n    if ((_manifest_metaData = manifest.metaData) == null ? void 0 : _manifest_metaData.prefetchInterface) {\n        const prefetchInterface = manifest.metaData.prefetchInterface;\n        basicRemoteSnapshot = polyfills._extends({}, basicRemoteSnapshot, {\n            prefetchInterface\n        });\n    }\n    if ((_manifest_metaData1 = manifest.metaData) == null ? void 0 : _manifest_metaData1.prefetchEntry) {\n        const { path, name, type } = manifest.metaData.prefetchEntry;\n        basicRemoteSnapshot = polyfills._extends({}, basicRemoteSnapshot, {\n            prefetchEntry: simpleJoinRemoteEntry(path, name),\n            prefetchEntryType: type\n        });\n    }\n    if ('publicPath' in manifest.metaData) {\n        remoteSnapshot = polyfills._extends({}, basicRemoteSnapshot, {\n            publicPath: getPublicPath()\n        });\n    } else {\n        remoteSnapshot = polyfills._extends({}, basicRemoteSnapshot, {\n            getPublicPath: getPublicPath()\n        });\n    }\n    if (ssrRemoteEntry) {\n        const fullSSRRemoteEntry = simpleJoinRemoteEntry(ssrRemoteEntry.path, ssrRemoteEntry.name);\n        remoteSnapshot.ssrRemoteEntry = fullSSRRemoteEntry;\n        remoteSnapshot.ssrRemoteEntryType = ssrRemoteEntry.type || 'commonjs-module';\n    }\n    return remoteSnapshot;\n}\nfunction isManifestProvider(moduleInfo) {\n    if ('remoteEntry' in moduleInfo && moduleInfo.remoteEntry.includes(MANIFEST_EXT)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function safeWrapper(callback, disableWarn) {\n    try {\n        const res = await callback();\n        return res;\n    } catch (e) {\n        !disableWarn && warn(e);\n        return;\n    }\n}\nfunction isStaticResourcesEqual(url1, url2) {\n    const REG_EXP = /^(https?:)?\\/\\//i;\n    // Transform url1 and url2 into relative paths\n    const relativeUrl1 = url1.replace(REG_EXP, '').replace(/\\/$/, '');\n    const relativeUrl2 = url2.replace(REG_EXP, '').replace(/\\/$/, '');\n    // Check if the relative paths are identical\n    return relativeUrl1 === relativeUrl2;\n}\nfunction createScript(info) {\n    // Retrieve the existing script element by its src attribute\n    let script = null;\n    let needAttach = true;\n    let timeout = 20000;\n    let timeoutId;\n    const scripts = document.getElementsByTagName('script');\n    for(let i = 0; i < scripts.length; i++){\n        const s = scripts[i];\n        const scriptSrc = s.getAttribute('src');\n        if (scriptSrc && isStaticResourcesEqual(scriptSrc, info.url)) {\n            script = s;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!script) {\n        const attrs = info.attrs;\n        script = document.createElement('script');\n        script.type = (attrs == null ? void 0 : attrs['type']) === 'module' ? 'module' : 'text/javascript';\n        script.src = info.url;\n        let createScriptRes = undefined;\n        if (info.createScriptHook) {\n            createScriptRes = info.createScriptHook(info.url, info.attrs);\n            if (createScriptRes instanceof HTMLScriptElement) {\n                script = createScriptRes;\n            } else if (typeof createScriptRes === 'object') {\n                if ('script' in createScriptRes && createScriptRes.script) {\n                    script = createScriptRes.script;\n                }\n                if ('timeout' in createScriptRes && createScriptRes.timeout) {\n                    timeout = createScriptRes.timeout;\n                }\n            }\n        }\n        if (attrs && !createScriptRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (script) {\n                    if (name === 'async' || name === 'defer') {\n                        script[name] = attrs[name];\n                    // Attributes that do not exist are considered overridden\n                    } else if (!script.getAttribute(name)) {\n                        script.setAttribute(name, attrs[name]);\n                    }\n                }\n            });\n        }\n    }\n    const onScriptComplete = async (prev, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event)=>{\n        var _info_cb;\n        clearTimeout(timeoutId);\n        // Prevent memory leaks in IE.\n        if (script) {\n            script.onerror = null;\n            script.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteScript = true } = info;\n                if (needDeleteScript) {\n                    (script == null ? void 0 : script.parentNode) && script.parentNode.removeChild(script);\n                }\n            });\n            if (prev && typeof prev === 'function') {\n                var _info_cb1;\n                const result = prev(event);\n                if (result instanceof Promise) {\n                    var _info_cb2;\n                    const res = await result;\n                    info == null ? void 0 : (_info_cb2 = info.cb) == null ? void 0 : _info_cb2.call(info);\n                    return res;\n                }\n                info == null ? void 0 : (_info_cb1 = info.cb) == null ? void 0 : _info_cb1.call(info);\n                return result;\n            }\n        }\n        info == null ? void 0 : (_info_cb = info.cb) == null ? void 0 : _info_cb.call(info);\n    };\n    script.onerror = onScriptComplete.bind(null, script.onerror);\n    script.onload = onScriptComplete.bind(null, script.onload);\n    timeoutId = setTimeout(()=>{\n        onScriptComplete(null, new Error(`Remote script \"${info.url}\" time-outed.`));\n    }, timeout);\n    return {\n        script,\n        needAttach\n    };\n}\nfunction createLink(info) {\n    // <link rel=\"preload\" href=\"script.js\" as=\"script\">\n    // Retrieve the existing script element by its src attribute\n    let link = null;\n    let needAttach = true;\n    const links = document.getElementsByTagName('link');\n    for(let i = 0; i < links.length; i++){\n        const l = links[i];\n        const linkHref = l.getAttribute('href');\n        const linkRef = l.getAttribute('ref');\n        if (linkHref && isStaticResourcesEqual(linkHref, info.url) && linkRef === info.attrs['ref']) {\n            link = l;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!link) {\n        link = document.createElement('link');\n        link.setAttribute('href', info.url);\n        let createLinkRes = undefined;\n        const attrs = info.attrs;\n        if (info.createLinkHook) {\n            createLinkRes = info.createLinkHook(info.url, attrs);\n            if (createLinkRes instanceof HTMLLinkElement) {\n                link = createLinkRes;\n            }\n        }\n        if (attrs && !createLinkRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (link && !link.getAttribute(name)) {\n                    link.setAttribute(name, attrs[name]);\n                }\n            });\n        }\n    }\n    const onLinkComplete = (prev, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event)=>{\n        // Prevent memory leaks in IE.\n        if (link) {\n            link.onerror = null;\n            link.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteLink = true } = info;\n                if (needDeleteLink) {\n                    (link == null ? void 0 : link.parentNode) && link.parentNode.removeChild(link);\n                }\n            });\n            if (prev) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const res = prev(event);\n                info.cb();\n                return res;\n            }\n        }\n        info.cb();\n    };\n    link.onerror = onLinkComplete.bind(null, link.onerror);\n    link.onload = onLinkComplete.bind(null, link.onload);\n    return {\n        link,\n        needAttach\n    };\n}\nfunction loadScript(url, info) {\n    const { attrs = {}, createScriptHook } = info;\n    return new Promise((resolve, _reject)=>{\n        const { script, needAttach } = createScript({\n            url,\n            cb: resolve,\n            attrs: polyfills._extends({\n                fetchpriority: 'high'\n            }, attrs),\n            createScriptHook,\n            needDeleteScript: true\n        });\n        needAttach && document.head.appendChild(script);\n    });\n}\n\nfunction importNodeModule(name) {\n    if (!name) {\n        throw new Error('import specifier is required');\n    }\n    const importModule = new Function('name', `return import(name)`);\n    return importModule(name).then((res)=>res).catch((error)=>{\n        console.error(`Error importing module ${name}:`, error);\n        throw error;\n    });\n}\nconst loadNodeFetch = async ()=>{\n    const fetchModule = await importNodeModule('node-fetch');\n    return fetchModule.default || fetchModule;\n};\nconst lazyLoaderHookFetch = async (input, init)=>{\n    // @ts-ignore\n    const loaderHooks = __webpack_require__.federation.instance.loaderHook;\n    const hook = (url, init)=>{\n        return loaderHooks.lifecycle.fetch.emit(url, init);\n    };\n    const res = await hook(input, init || {});\n    if (!res || !(res instanceof Response)) {\n        const fetchFunction = typeof fetch === 'undefined' ? await loadNodeFetch() : fetch;\n        return fetchFunction(input, init || {});\n    }\n    return res;\n};\nfunction createScriptNode(url, cb, attrs, createScriptHook) {\n    if (createScriptHook) {\n        const hookResult = createScriptHook(url);\n        if (hookResult && typeof hookResult === 'object' && 'url' in hookResult) {\n            url = hookResult.url;\n        }\n    }\n    let urlObj;\n    try {\n        urlObj = new URL(url);\n    } catch (e) {\n        console.error('Error constructing URL:', e);\n        cb(new Error(`Invalid URL: ${e}`));\n        return;\n    }\n    const getFetch = async ()=>{\n        //@ts-ignore\n        if (typeof __webpack_require__ !== 'undefined') {\n            try {\n                //@ts-ignore\n                const loaderHooks = __webpack_require__.federation.instance.loaderHook;\n                if (loaderHooks.lifecycle.fetch) {\n                    return lazyLoaderHookFetch;\n                }\n            } catch (e) {\n                console.warn('federation.instance.loaderHook.lifecycle.fetch failed:', e);\n            }\n        }\n        return typeof fetch === 'undefined' ? loadNodeFetch() : fetch;\n    };\n    const handleScriptFetch = async (f, urlObj)=>{\n        try {\n            var //@ts-ignore\n            _vm_constants;\n            const res = await f(urlObj.href);\n            const data = await res.text();\n            const [path, vm] = await Promise.all([\n                importNodeModule('path'),\n                importNodeModule('vm')\n            ]);\n            const scriptContext = {\n                exports: {},\n                module: {\n                    exports: {}\n                }\n            };\n            const urlDirname = urlObj.pathname.split('/').slice(0, -1).join('/');\n            const filename = path.basename(urlObj.pathname);\n            var _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER;\n            const script = new vm.Script(`(function(exports, module, require, __dirname, __filename) {${data}\\n})`, {\n                filename,\n                importModuleDynamically: (_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER = (_vm_constants = vm.constants) == null ? void 0 : _vm_constants.USE_MAIN_CONTEXT_DEFAULT_LOADER) != null ? _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER : importNodeModule\n            });\n            script.runInThisContext()(scriptContext.exports, scriptContext.module, eval('require'), urlDirname, filename);\n            const exportedInterface = scriptContext.module.exports || scriptContext.exports;\n            if (attrs && exportedInterface && attrs['globalName']) {\n                const container = exportedInterface[attrs['globalName']] || exportedInterface;\n                cb(undefined, container);\n                return;\n            }\n            cb(undefined, exportedInterface);\n        } catch (e) {\n            cb(e instanceof Error ? e : new Error(`Script execution error: ${e}`));\n        }\n    };\n    getFetch().then(async (f)=>{\n        if ((attrs == null ? void 0 : attrs['type']) === 'esm' || (attrs == null ? void 0 : attrs['type']) === 'module') {\n            return loadModule(urlObj.href, {\n                fetch: f,\n                vm: await importNodeModule('vm')\n            }).then(async (module)=>{\n                await module.evaluate();\n                cb(undefined, module.namespace);\n            }).catch((e)=>{\n                cb(e instanceof Error ? e : new Error(`Script execution error: ${e}`));\n            });\n        }\n        handleScriptFetch(f, urlObj);\n    }).catch((err)=>{\n        cb(err);\n    });\n}\nfunction loadScriptNode(url, info) {\n    return new Promise((resolve, reject)=>{\n        createScriptNode(url, (error, scriptContext)=>{\n            if (error) {\n                reject(error);\n            } else {\n                var _info_attrs, _info_attrs1;\n                const remoteEntryKey = (info == null ? void 0 : (_info_attrs = info.attrs) == null ? void 0 : _info_attrs['globalName']) || `__FEDERATION_${info == null ? void 0 : (_info_attrs1 = info.attrs) == null ? void 0 : _info_attrs1['name']}:custom__`;\n                const entryExports = globalThis[remoteEntryKey] = scriptContext;\n                resolve(entryExports);\n            }\n        }, info.attrs, info.createScriptHook);\n    });\n}\nasync function loadModule(url, options) {\n    const { fetch: fetch1, vm } = options;\n    const response = await fetch1(url);\n    const code = await response.text();\n    const module = new vm.SourceTextModule(code, {\n        // @ts-ignore\n        importModuleDynamically: async (specifier, script)=>{\n            const resolvedUrl = new URL(specifier, url).href;\n            return loadModule(resolvedUrl, options);\n        }\n    });\n    await module.link(async (specifier)=>{\n        const resolvedUrl = new URL(specifier, url).href;\n        const module = await loadModule(resolvedUrl, options);\n        return module;\n    });\n    return module;\n}\n\nfunction normalizeOptions(enableDefault, defaultOptions, key) {\n    return function(options) {\n        if (options === false) {\n            return false;\n        }\n        if (typeof options === 'undefined') {\n            if (enableDefault) {\n                return defaultOptions;\n            } else {\n                return false;\n            }\n        }\n        if (options === true) {\n            return defaultOptions;\n        }\n        if (options && typeof options === 'object') {\n            return polyfills._extends({}, defaultOptions, options);\n        }\n        throw new Error(`Unexpected type for \\`${key}\\`, expect boolean/undefined/object, got: ${typeof options}`);\n    };\n}\n\nexports.BROWSER_LOG_KEY = BROWSER_LOG_KEY;\nexports.BROWSER_LOG_VALUE = BROWSER_LOG_VALUE;\nexports.ENCODE_NAME_PREFIX = ENCODE_NAME_PREFIX;\nexports.EncodedNameTransformMap = EncodedNameTransformMap;\nexports.FederationModuleManifest = FederationModuleManifest;\nexports.Logger = Logger;\nexports.MANIFEST_EXT = MANIFEST_EXT;\nexports.MFModuleType = MFModuleType;\nexports.MFPrefetchCommon = MFPrefetchCommon;\nexports.MODULE_DEVTOOL_IDENTIFIER = MODULE_DEVTOOL_IDENTIFIER;\nexports.ManifestFileName = ManifestFileName;\nexports.NameTransformMap = NameTransformMap;\nexports.NameTransformSymbol = NameTransformSymbol;\nexports.SEPARATOR = SEPARATOR;\nexports.StatsFileName = StatsFileName;\nexports.TEMP_DIR = TEMP_DIR;\nexports.assert = assert;\nexports.composeKeyWithSeparator = composeKeyWithSeparator;\nexports.containerPlugin = ContainerPlugin;\nexports.containerReferencePlugin = ContainerReferencePlugin;\nexports.createLink = createLink;\nexports.createScript = createScript;\nexports.createScriptNode = createScriptNode;\nexports.decodeName = decodeName;\nexports.encodeName = encodeName;\nexports.error = error;\nexports.generateExposeFilename = generateExposeFilename;\nexports.generateShareFilename = generateShareFilename;\nexports.generateSnapshotFromManifest = generateSnapshotFromManifest;\nexports.getProcessEnv = getProcessEnv;\nexports.getResourceUrl = getResourceUrl;\nexports.inferAutoPublicPath = inferAutoPublicPath;\nexports.isBrowserEnv = isBrowserEnv;\nexports.isDebugMode = isDebugMode;\nexports.isManifestProvider = isManifestProvider;\nexports.isStaticResourcesEqual = isStaticResourcesEqual;\nexports.loadScript = loadScript;\nexports.loadScriptNode = loadScriptNode;\nexports.logger = logger;\nexports.moduleFederationPlugin = ModuleFederationPlugin;\nexports.normalizeOptions = normalizeOptions;\nexports.parseEntry = parseEntry;\nexports.safeToString = safeToString;\nexports.safeWrapper = safeWrapper;\nexports.sharePlugin = SharePlugin;\nexports.simpleJoinRemoteEntry = simpleJoinRemoteEntry;\nexports.warn = warn;\n","import { _ as _extends } from './polyfills.esm.js';\n\nconst FederationModuleManifest = 'federation-manifest.json';\nconst MANIFEST_EXT = '.json';\nconst BROWSER_LOG_KEY = 'FEDERATION_DEBUG';\nconst BROWSER_LOG_VALUE = '1';\nconst NameTransformSymbol = {\n    AT: '@',\n    HYPHEN: '-',\n    SLASH: '/'\n};\nconst NameTransformMap = {\n    [NameTransformSymbol.AT]: 'scope_',\n    [NameTransformSymbol.HYPHEN]: '_',\n    [NameTransformSymbol.SLASH]: '__'\n};\nconst EncodedNameTransformMap = {\n    [NameTransformMap[NameTransformSymbol.AT]]: NameTransformSymbol.AT,\n    [NameTransformMap[NameTransformSymbol.HYPHEN]]: NameTransformSymbol.HYPHEN,\n    [NameTransformMap[NameTransformSymbol.SLASH]]: NameTransformSymbol.SLASH\n};\nconst SEPARATOR = ':';\nconst ManifestFileName = 'mf-manifest.json';\nconst StatsFileName = 'mf-stats.json';\nconst MFModuleType = {\n    NPM: 'npm',\n    APP: 'app'\n};\nconst MODULE_DEVTOOL_IDENTIFIER = '__MF_DEVTOOLS_MODULE_INFO__';\nconst ENCODE_NAME_PREFIX = 'ENCODE_NAME_PREFIX';\nconst TEMP_DIR = '.federation';\nconst MFPrefetchCommon = {\n    identifier: 'MFDataPrefetch',\n    globalKey: '__PREFETCH__',\n    library: 'mf-data-prefetch',\n    exportsKey: '__PREFETCH_EXPORTS__',\n    fileName: 'bootstrap.js'\n};\n\nvar ContainerPlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nvar ContainerReferencePlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nvar ModuleFederationPlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nvar SharePlugin = /*#__PURE__*/Object.freeze({\n  __proto__: null\n});\n\nfunction isBrowserEnv() {\n    return typeof window !== 'undefined';\n}\nfunction isDebugMode() {\n    if (typeof process !== 'undefined' && process.env && process.env['FEDERATION_DEBUG']) {\n        return Boolean(process.env['FEDERATION_DEBUG']);\n    }\n    return typeof FEDERATION_DEBUG !== 'undefined' && Boolean(FEDERATION_DEBUG);\n}\nconst getProcessEnv = function() {\n    return typeof process !== 'undefined' && process.env ? process.env : {};\n};\n\nconst DEBUG_LOG = '[ FEDERATION DEBUG ]';\nfunction safeToString$1(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return '';\n    }\n}\nfunction safeGetLocalStorageItem() {\n    try {\n        if (typeof window !== 'undefined' && window.localStorage) {\n            return localStorage.getItem(BROWSER_LOG_KEY) === BROWSER_LOG_VALUE;\n        }\n    } catch (error) {\n        return typeof document !== 'undefined';\n    }\n    return false;\n}\nlet Logger = class Logger {\n    info(msg, info) {\n        if (this.enable) {\n            const argsToString = safeToString$1(info) || '';\n            if (isBrowserEnv()) {\n                console.info(`%c ${this.identifier}: ${msg} ${argsToString}`, 'color:#3300CC');\n            } else {\n                console.info('\\x1b[34m%s', `${this.identifier}: ${msg} ${argsToString ? `\\n${argsToString}` : ''}`);\n            }\n        }\n    }\n    logOriginalInfo(...args) {\n        if (this.enable) {\n            if (isBrowserEnv()) {\n                console.info(`%c ${this.identifier}: OriginalInfo`, 'color:#3300CC');\n                console.log(...args);\n            } else {\n                console.info(`%c ${this.identifier}: OriginalInfo`, 'color:#3300CC');\n                console.log(...args);\n            }\n        }\n    }\n    constructor(identifier){\n        this.enable = false;\n        this.identifier = identifier || DEBUG_LOG;\n        if (isBrowserEnv() && safeGetLocalStorageItem()) {\n            this.enable = true;\n        } else if (isDebugMode()) {\n            this.enable = true;\n        }\n    }\n};\n\nconst LOG_CATEGORY = '[ Federation Runtime ]';\n// entry: name:version   version : 1.0.0 | ^1.2.3\n// entry: name:entry  entry:  https://localhost:9000/federation-manifest.json\nconst parseEntry = (str, devVerOrUrl, separator = SEPARATOR)=>{\n    const strSplit = str.split(separator);\n    const devVersionOrUrl = getProcessEnv()['NODE_ENV'] === 'development' && devVerOrUrl;\n    const defaultVersion = '*';\n    const isEntry = (s)=>s.startsWith('http') || s.includes(MANIFEST_EXT);\n    // Check if the string starts with a type\n    if (strSplit.length >= 2) {\n        let [name, ...versionOrEntryArr] = strSplit;\n        if (str.startsWith(separator)) {\n            versionOrEntryArr = [\n                devVersionOrUrl || strSplit.slice(-1)[0]\n            ];\n            name = strSplit.slice(0, -1).join(separator);\n        }\n        let versionOrEntry = devVersionOrUrl || versionOrEntryArr.join(separator);\n        if (isEntry(versionOrEntry)) {\n            return {\n                name,\n                entry: versionOrEntry\n            };\n        } else {\n            // Apply version rule\n            // devVersionOrUrl => inputVersion => defaultVersion\n            return {\n                name,\n                version: versionOrEntry || defaultVersion\n            };\n        }\n    } else if (strSplit.length === 1) {\n        const [name] = strSplit;\n        if (devVersionOrUrl && isEntry(devVersionOrUrl)) {\n            return {\n                name,\n                entry: devVersionOrUrl\n            };\n        }\n        return {\n            name,\n            version: devVersionOrUrl || defaultVersion\n        };\n    } else {\n        throw `Invalid entry value: ${str}`;\n    }\n};\nconst logger = new Logger();\nconst composeKeyWithSeparator = function(...args) {\n    if (!args.length) {\n        return '';\n    }\n    return args.reduce((sum, cur)=>{\n        if (!cur) {\n            return sum;\n        }\n        if (!sum) {\n            return cur;\n        }\n        return `${sum}${SEPARATOR}${cur}`;\n    }, '');\n};\nconst encodeName = function(name, prefix = '', withExt = false) {\n    try {\n        const ext = withExt ? '.js' : '';\n        return `${prefix}${name.replace(new RegExp(`${NameTransformSymbol.AT}`, 'g'), NameTransformMap[NameTransformSymbol.AT]).replace(new RegExp(`${NameTransformSymbol.HYPHEN}`, 'g'), NameTransformMap[NameTransformSymbol.HYPHEN]).replace(new RegExp(`${NameTransformSymbol.SLASH}`, 'g'), NameTransformMap[NameTransformSymbol.SLASH])}${ext}`;\n    } catch (err) {\n        throw err;\n    }\n};\nconst decodeName = function(name, prefix, withExt) {\n    try {\n        let decodedName = name;\n        if (prefix) {\n            if (!decodedName.startsWith(prefix)) {\n                return decodedName;\n            }\n            decodedName = decodedName.replace(new RegExp(prefix, 'g'), '');\n        }\n        decodedName = decodedName.replace(new RegExp(`${NameTransformMap[NameTransformSymbol.AT]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.SLASH]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.HYPHEN]}`, 'g'), EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]);\n        if (withExt) {\n            decodedName = decodedName.replace('.js', '');\n        }\n        return decodedName;\n    } catch (err) {\n        throw err;\n    }\n};\nconst generateExposeFilename = (exposeName, withExt)=>{\n    if (!exposeName) {\n        return '';\n    }\n    let expose = exposeName;\n    if (expose === '.') {\n        expose = 'default_export';\n    }\n    if (expose.startsWith('./')) {\n        expose = expose.replace('./', '');\n    }\n    return encodeName(expose, '__federation_expose_', withExt);\n};\nconst generateShareFilename = (pkgName, withExt)=>{\n    if (!pkgName) {\n        return '';\n    }\n    return encodeName(pkgName, '__federation_shared_', withExt);\n};\nconst getResourceUrl = (module, sourceUrl)=>{\n    if ('getPublicPath' in module) {\n        let publicPath;\n        if (!module.getPublicPath.startsWith('function')) {\n            publicPath = new Function(module.getPublicPath)();\n        } else {\n            publicPath = new Function('return ' + module.getPublicPath)()();\n        }\n        return `${publicPath}${sourceUrl}`;\n    } else if ('publicPath' in module) {\n        return `${module.publicPath}${sourceUrl}`;\n    } else {\n        console.warn('Cannot get resource URL. If in debug mode, please ignore.', module, sourceUrl);\n        return '';\n    }\n};\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nconst assert = (condition, msg)=>{\n    if (!condition) {\n        error(msg);\n    }\n};\nconst error = (msg)=>{\n    throw new Error(`${LOG_CATEGORY}: ${msg}`);\n};\nconst warn = (msg)=>{\n    console.warn(`${LOG_CATEGORY}: ${msg}`);\n};\nfunction safeToString(info) {\n    try {\n        return JSON.stringify(info, null, 2);\n    } catch (e) {\n        return '';\n    }\n}\n\nconst simpleJoinRemoteEntry = (rPath, rName)=>{\n    if (!rPath) {\n        return rName;\n    }\n    const transformPath = (str)=>{\n        if (str === '.') {\n            return '';\n        }\n        if (str.startsWith('./')) {\n            return str.replace('./', '');\n        }\n        if (str.startsWith('/')) {\n            const strWithoutSlash = str.slice(1);\n            if (strWithoutSlash.endsWith('/')) {\n                return strWithoutSlash.slice(0, -1);\n            }\n            return strWithoutSlash;\n        }\n        return str;\n    };\n    const transformedPath = transformPath(rPath);\n    if (!transformedPath) {\n        return rName;\n    }\n    if (transformedPath.endsWith('/')) {\n        return `${transformedPath}${rName}`;\n    }\n    return `${transformedPath}/${rName}`;\n};\nfunction inferAutoPublicPath(url) {\n    return url.replace(/#.*$/, '').replace(/\\?.*$/, '').replace(/\\/[^\\/]+$/, '/');\n}\n// Priority: overrides > remotes\n// eslint-disable-next-line max-lines-per-function\nfunction generateSnapshotFromManifest(manifest, options = {}) {\n    var _manifest_metaData, _manifest_metaData1;\n    const { remotes = {}, overrides = {}, version } = options;\n    let remoteSnapshot;\n    const getPublicPath = ()=>{\n        if ('publicPath' in manifest.metaData) {\n            if (manifest.metaData.publicPath === 'auto' && version) {\n                // use same implementation as publicPath auto runtime module implements\n                return inferAutoPublicPath(version);\n            }\n            return manifest.metaData.publicPath;\n        } else {\n            return manifest.metaData.getPublicPath;\n        }\n    };\n    const overridesKeys = Object.keys(overrides);\n    let remotesInfo = {};\n    // If remotes are not provided, only the remotes in the manifest will be read\n    if (!Object.keys(remotes).length) {\n        var _manifest_remotes;\n        remotesInfo = ((_manifest_remotes = manifest.remotes) == null ? void 0 : _manifest_remotes.reduce((res, next)=>{\n            let matchedVersion;\n            const name = next.federationContainerName;\n            // overrides have higher priority\n            if (overridesKeys.includes(name)) {\n                matchedVersion = overrides[name];\n            } else {\n                if ('version' in next) {\n                    matchedVersion = next.version;\n                } else {\n                    matchedVersion = next.entry;\n                }\n            }\n            res[name] = {\n                matchedVersion\n            };\n            return res;\n        }, {})) || {};\n    }\n    // If remotes (deploy scenario) are specified, they need to be traversed again\n    Object.keys(remotes).forEach((key)=>remotesInfo[key] = {\n            // overrides will override dependencies\n            matchedVersion: overridesKeys.includes(key) ? overrides[key] : remotes[key]\n        });\n    const { remoteEntry: { path: remoteEntryPath, name: remoteEntryName, type: remoteEntryType }, types: remoteTypes, buildInfo: { buildVersion }, globalName, ssrRemoteEntry } = manifest.metaData;\n    const { exposes } = manifest;\n    let basicRemoteSnapshot = {\n        version: version ? version : '',\n        buildVersion,\n        globalName,\n        remoteEntry: simpleJoinRemoteEntry(remoteEntryPath, remoteEntryName),\n        remoteEntryType,\n        remoteTypes: simpleJoinRemoteEntry(remoteTypes.path, remoteTypes.name),\n        remoteTypesZip: remoteTypes.zip || '',\n        remoteTypesAPI: remoteTypes.api || '',\n        remotesInfo,\n        shared: manifest == null ? void 0 : manifest.shared.map((item)=>({\n                assets: item.assets,\n                sharedName: item.name,\n                version: item.version\n            })),\n        modules: exposes == null ? void 0 : exposes.map((expose)=>({\n                moduleName: expose.name,\n                modulePath: expose.path,\n                assets: expose.assets\n            }))\n    };\n    if ((_manifest_metaData = manifest.metaData) == null ? void 0 : _manifest_metaData.prefetchInterface) {\n        const prefetchInterface = manifest.metaData.prefetchInterface;\n        basicRemoteSnapshot = _extends({}, basicRemoteSnapshot, {\n            prefetchInterface\n        });\n    }\n    if ((_manifest_metaData1 = manifest.metaData) == null ? void 0 : _manifest_metaData1.prefetchEntry) {\n        const { path, name, type } = manifest.metaData.prefetchEntry;\n        basicRemoteSnapshot = _extends({}, basicRemoteSnapshot, {\n            prefetchEntry: simpleJoinRemoteEntry(path, name),\n            prefetchEntryType: type\n        });\n    }\n    if ('publicPath' in manifest.metaData) {\n        remoteSnapshot = _extends({}, basicRemoteSnapshot, {\n            publicPath: getPublicPath()\n        });\n    } else {\n        remoteSnapshot = _extends({}, basicRemoteSnapshot, {\n            getPublicPath: getPublicPath()\n        });\n    }\n    if (ssrRemoteEntry) {\n        const fullSSRRemoteEntry = simpleJoinRemoteEntry(ssrRemoteEntry.path, ssrRemoteEntry.name);\n        remoteSnapshot.ssrRemoteEntry = fullSSRRemoteEntry;\n        remoteSnapshot.ssrRemoteEntryType = ssrRemoteEntry.type || 'commonjs-module';\n    }\n    return remoteSnapshot;\n}\nfunction isManifestProvider(moduleInfo) {\n    if ('remoteEntry' in moduleInfo && moduleInfo.remoteEntry.includes(MANIFEST_EXT)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function safeWrapper(callback, disableWarn) {\n    try {\n        const res = await callback();\n        return res;\n    } catch (e) {\n        !disableWarn && warn(e);\n        return;\n    }\n}\nfunction isStaticResourcesEqual(url1, url2) {\n    const REG_EXP = /^(https?:)?\\/\\//i;\n    // Transform url1 and url2 into relative paths\n    const relativeUrl1 = url1.replace(REG_EXP, '').replace(/\\/$/, '');\n    const relativeUrl2 = url2.replace(REG_EXP, '').replace(/\\/$/, '');\n    // Check if the relative paths are identical\n    return relativeUrl1 === relativeUrl2;\n}\nfunction createScript(info) {\n    // Retrieve the existing script element by its src attribute\n    let script = null;\n    let needAttach = true;\n    let timeout = 20000;\n    let timeoutId;\n    const scripts = document.getElementsByTagName('script');\n    for(let i = 0; i < scripts.length; i++){\n        const s = scripts[i];\n        const scriptSrc = s.getAttribute('src');\n        if (scriptSrc && isStaticResourcesEqual(scriptSrc, info.url)) {\n            script = s;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!script) {\n        const attrs = info.attrs;\n        script = document.createElement('script');\n        script.type = (attrs == null ? void 0 : attrs['type']) === 'module' ? 'module' : 'text/javascript';\n        script.src = info.url;\n        let createScriptRes = undefined;\n        if (info.createScriptHook) {\n            createScriptRes = info.createScriptHook(info.url, info.attrs);\n            if (createScriptRes instanceof HTMLScriptElement) {\n                script = createScriptRes;\n            } else if (typeof createScriptRes === 'object') {\n                if ('script' in createScriptRes && createScriptRes.script) {\n                    script = createScriptRes.script;\n                }\n                if ('timeout' in createScriptRes && createScriptRes.timeout) {\n                    timeout = createScriptRes.timeout;\n                }\n            }\n        }\n        if (attrs && !createScriptRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (script) {\n                    if (name === 'async' || name === 'defer') {\n                        script[name] = attrs[name];\n                    // Attributes that do not exist are considered overridden\n                    } else if (!script.getAttribute(name)) {\n                        script.setAttribute(name, attrs[name]);\n                    }\n                }\n            });\n        }\n    }\n    const onScriptComplete = async (prev, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event)=>{\n        var _info_cb;\n        clearTimeout(timeoutId);\n        // Prevent memory leaks in IE.\n        if (script) {\n            script.onerror = null;\n            script.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteScript = true } = info;\n                if (needDeleteScript) {\n                    (script == null ? void 0 : script.parentNode) && script.parentNode.removeChild(script);\n                }\n            });\n            if (prev && typeof prev === 'function') {\n                var _info_cb1;\n                const result = prev(event);\n                if (result instanceof Promise) {\n                    var _info_cb2;\n                    const res = await result;\n                    info == null ? void 0 : (_info_cb2 = info.cb) == null ? void 0 : _info_cb2.call(info);\n                    return res;\n                }\n                info == null ? void 0 : (_info_cb1 = info.cb) == null ? void 0 : _info_cb1.call(info);\n                return result;\n            }\n        }\n        info == null ? void 0 : (_info_cb = info.cb) == null ? void 0 : _info_cb.call(info);\n    };\n    script.onerror = onScriptComplete.bind(null, script.onerror);\n    script.onload = onScriptComplete.bind(null, script.onload);\n    timeoutId = setTimeout(()=>{\n        onScriptComplete(null, new Error(`Remote script \"${info.url}\" time-outed.`));\n    }, timeout);\n    return {\n        script,\n        needAttach\n    };\n}\nfunction createLink(info) {\n    // <link rel=\"preload\" href=\"script.js\" as=\"script\">\n    // Retrieve the existing script element by its src attribute\n    let link = null;\n    let needAttach = true;\n    const links = document.getElementsByTagName('link');\n    for(let i = 0; i < links.length; i++){\n        const l = links[i];\n        const linkHref = l.getAttribute('href');\n        const linkRef = l.getAttribute('ref');\n        if (linkHref && isStaticResourcesEqual(linkHref, info.url) && linkRef === info.attrs['ref']) {\n            link = l;\n            needAttach = false;\n            break;\n        }\n    }\n    if (!link) {\n        link = document.createElement('link');\n        link.setAttribute('href', info.url);\n        let createLinkRes = undefined;\n        const attrs = info.attrs;\n        if (info.createLinkHook) {\n            createLinkRes = info.createLinkHook(info.url, attrs);\n            if (createLinkRes instanceof HTMLLinkElement) {\n                link = createLinkRes;\n            }\n        }\n        if (attrs && !createLinkRes) {\n            Object.keys(attrs).forEach((name)=>{\n                if (link && !link.getAttribute(name)) {\n                    link.setAttribute(name, attrs[name]);\n                }\n            });\n        }\n    }\n    const onLinkComplete = (prev, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    event)=>{\n        // Prevent memory leaks in IE.\n        if (link) {\n            link.onerror = null;\n            link.onload = null;\n            safeWrapper(()=>{\n                const { needDeleteLink = true } = info;\n                if (needDeleteLink) {\n                    (link == null ? void 0 : link.parentNode) && link.parentNode.removeChild(link);\n                }\n            });\n            if (prev) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const res = prev(event);\n                info.cb();\n                return res;\n            }\n        }\n        info.cb();\n    };\n    link.onerror = onLinkComplete.bind(null, link.onerror);\n    link.onload = onLinkComplete.bind(null, link.onload);\n    return {\n        link,\n        needAttach\n    };\n}\nfunction loadScript(url, info) {\n    const { attrs = {}, createScriptHook } = info;\n    return new Promise((resolve, _reject)=>{\n        const { script, needAttach } = createScript({\n            url,\n            cb: resolve,\n            attrs: _extends({\n                fetchpriority: 'high'\n            }, attrs),\n            createScriptHook,\n            needDeleteScript: true\n        });\n        needAttach && document.head.appendChild(script);\n    });\n}\n\nfunction importNodeModule(name) {\n    if (!name) {\n        throw new Error('import specifier is required');\n    }\n    const importModule = new Function('name', `return import(name)`);\n    return importModule(name).then((res)=>res).catch((error)=>{\n        console.error(`Error importing module ${name}:`, error);\n        throw error;\n    });\n}\nconst loadNodeFetch = async ()=>{\n    const fetchModule = await importNodeModule('node-fetch');\n    return fetchModule.default || fetchModule;\n};\nconst lazyLoaderHookFetch = async (input, init)=>{\n    // @ts-ignore\n    const loaderHooks = __webpack_require__.federation.instance.loaderHook;\n    const hook = (url, init)=>{\n        return loaderHooks.lifecycle.fetch.emit(url, init);\n    };\n    const res = await hook(input, init || {});\n    if (!res || !(res instanceof Response)) {\n        const fetchFunction = typeof fetch === 'undefined' ? await loadNodeFetch() : fetch;\n        return fetchFunction(input, init || {});\n    }\n    return res;\n};\nfunction createScriptNode(url, cb, attrs, createScriptHook) {\n    if (createScriptHook) {\n        const hookResult = createScriptHook(url);\n        if (hookResult && typeof hookResult === 'object' && 'url' in hookResult) {\n            url = hookResult.url;\n        }\n    }\n    let urlObj;\n    try {\n        urlObj = new URL(url);\n    } catch (e) {\n        console.error('Error constructing URL:', e);\n        cb(new Error(`Invalid URL: ${e}`));\n        return;\n    }\n    const getFetch = async ()=>{\n        //@ts-ignore\n        if (typeof __webpack_require__ !== 'undefined') {\n            try {\n                //@ts-ignore\n                const loaderHooks = __webpack_require__.federation.instance.loaderHook;\n                if (loaderHooks.lifecycle.fetch) {\n                    return lazyLoaderHookFetch;\n                }\n            } catch (e) {\n                console.warn('federation.instance.loaderHook.lifecycle.fetch failed:', e);\n            }\n        }\n        return typeof fetch === 'undefined' ? loadNodeFetch() : fetch;\n    };\n    const handleScriptFetch = async (f, urlObj)=>{\n        try {\n            var //@ts-ignore\n            _vm_constants;\n            const res = await f(urlObj.href);\n            const data = await res.text();\n            const [path, vm] = await Promise.all([\n                importNodeModule('path'),\n                importNodeModule('vm')\n            ]);\n            const scriptContext = {\n                exports: {},\n                module: {\n                    exports: {}\n                }\n            };\n            const urlDirname = urlObj.pathname.split('/').slice(0, -1).join('/');\n            const filename = path.basename(urlObj.pathname);\n            var _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER;\n            const script = new vm.Script(`(function(exports, module, require, __dirname, __filename) {${data}\\n})`, {\n                filename,\n                importModuleDynamically: (_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER = (_vm_constants = vm.constants) == null ? void 0 : _vm_constants.USE_MAIN_CONTEXT_DEFAULT_LOADER) != null ? _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER : importNodeModule\n            });\n            script.runInThisContext()(scriptContext.exports, scriptContext.module, eval('require'), urlDirname, filename);\n            const exportedInterface = scriptContext.module.exports || scriptContext.exports;\n            if (attrs && exportedInterface && attrs['globalName']) {\n                const container = exportedInterface[attrs['globalName']] || exportedInterface;\n                cb(undefined, container);\n                return;\n            }\n            cb(undefined, exportedInterface);\n        } catch (e) {\n            cb(e instanceof Error ? e : new Error(`Script execution error: ${e}`));\n        }\n    };\n    getFetch().then(async (f)=>{\n        if ((attrs == null ? void 0 : attrs['type']) === 'esm' || (attrs == null ? void 0 : attrs['type']) === 'module') {\n            return loadModule(urlObj.href, {\n                fetch: f,\n                vm: await importNodeModule('vm')\n            }).then(async (module)=>{\n                await module.evaluate();\n                cb(undefined, module.namespace);\n            }).catch((e)=>{\n                cb(e instanceof Error ? e : new Error(`Script execution error: ${e}`));\n            });\n        }\n        handleScriptFetch(f, urlObj);\n    }).catch((err)=>{\n        cb(err);\n    });\n}\nfunction loadScriptNode(url, info) {\n    return new Promise((resolve, reject)=>{\n        createScriptNode(url, (error, scriptContext)=>{\n            if (error) {\n                reject(error);\n            } else {\n                var _info_attrs, _info_attrs1;\n                const remoteEntryKey = (info == null ? void 0 : (_info_attrs = info.attrs) == null ? void 0 : _info_attrs['globalName']) || `__FEDERATION_${info == null ? void 0 : (_info_attrs1 = info.attrs) == null ? void 0 : _info_attrs1['name']}:custom__`;\n                const entryExports = globalThis[remoteEntryKey] = scriptContext;\n                resolve(entryExports);\n            }\n        }, info.attrs, info.createScriptHook);\n    });\n}\nasync function loadModule(url, options) {\n    const { fetch: fetch1, vm } = options;\n    const response = await fetch1(url);\n    const code = await response.text();\n    const module = new vm.SourceTextModule(code, {\n        // @ts-ignore\n        importModuleDynamically: async (specifier, script)=>{\n            const resolvedUrl = new URL(specifier, url).href;\n            return loadModule(resolvedUrl, options);\n        }\n    });\n    await module.link(async (specifier)=>{\n        const resolvedUrl = new URL(specifier, url).href;\n        const module = await loadModule(resolvedUrl, options);\n        return module;\n    });\n    return module;\n}\n\nfunction normalizeOptions(enableDefault, defaultOptions, key) {\n    return function(options) {\n        if (options === false) {\n            return false;\n        }\n        if (typeof options === 'undefined') {\n            if (enableDefault) {\n                return defaultOptions;\n            } else {\n                return false;\n            }\n        }\n        if (options === true) {\n            return defaultOptions;\n        }\n        if (options && typeof options === 'object') {\n            return _extends({}, defaultOptions, options);\n        }\n        throw new Error(`Unexpected type for \\`${key}\\`, expect boolean/undefined/object, got: ${typeof options}`);\n    };\n}\n\nexport { BROWSER_LOG_KEY, BROWSER_LOG_VALUE, ENCODE_NAME_PREFIX, EncodedNameTransformMap, FederationModuleManifest, Logger, MANIFEST_EXT, MFModuleType, MFPrefetchCommon, MODULE_DEVTOOL_IDENTIFIER, ManifestFileName, NameTransformMap, NameTransformSymbol, SEPARATOR, StatsFileName, TEMP_DIR, assert, composeKeyWithSeparator, ContainerPlugin as containerPlugin, ContainerReferencePlugin as containerReferencePlugin, createLink, createScript, createScriptNode, decodeName, encodeName, error, generateExposeFilename, generateShareFilename, generateSnapshotFromManifest, getProcessEnv, getResourceUrl, inferAutoPublicPath, isBrowserEnv, isDebugMode, isManifestProvider, isStaticResourcesEqual, loadScript, loadScriptNode, logger, ModuleFederationPlugin as moduleFederationPlugin, normalizeOptions, parseEntry, safeToString, safeWrapper, SharePlugin as sharePlugin, simpleJoinRemoteEntry, warn };\n","'use strict';\n\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nexports._extends = _extends;\n","function _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nexport { _extends as _ };\n","'use strict';\n\nvar sdk = require('@module-federation/sdk');\n\nconst FEDERATION_SUPPORTED_TYPES = [\n    'script'\n];\n\nObject.defineProperty(exports, \"ENCODE_NAME_PREFIX\", {\n\tenumerable: true,\n\tget: function () { return sdk.ENCODE_NAME_PREFIX; }\n});\nexports.FEDERATION_SUPPORTED_TYPES = FEDERATION_SUPPORTED_TYPES;\n","'use strict';\n\nvar runtime = require('@module-federation/runtime');\nvar constant = require('./constant.cjs.js');\nvar sdk = require('@module-federation/sdk');\nvar polyfills = require('./polyfills.cjs.js');\n\nfunction _interopNamespaceDefault(e) {\n  var n = Object.create(null);\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () { return e[k]; }\n        });\n      }\n    });\n  }\n  n.default = e;\n  return Object.freeze(n);\n}\n\nvar runtime__namespace = /*#__PURE__*/_interopNamespaceDefault(runtime);\n\nfunction attachShareScopeMap(webpackRequire) {\n    if (!webpackRequire.S || webpackRequire.federation.hasAttachShareScopeMap || !webpackRequire.federation.instance || !webpackRequire.federation.instance.shareScopeMap) {\n        return;\n    }\n    webpackRequire.S = webpackRequire.federation.instance.shareScopeMap;\n    webpackRequire.federation.hasAttachShareScopeMap = true;\n}\n\nfunction remotes(options) {\n    const { chunkId, promises, chunkMapping, idToExternalAndNameMapping, webpackRequire, idToRemoteMap } = options;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach((id)=>{\n            let getScope = webpackRequire.R;\n            if (!getScope) {\n                getScope = [];\n            }\n            const data = idToExternalAndNameMapping[id];\n            const remoteInfos = idToRemoteMap[id];\n            // @ts-ignore seems not work\n            if (getScope.indexOf(data) >= 0) {\n                return;\n            }\n            // @ts-ignore seems not work\n            getScope.push(data);\n            if (data.p) {\n                return promises.push(data.p);\n            }\n            const onError = (error)=>{\n                if (!error) {\n                    error = new Error('Container missing');\n                }\n                if (typeof error.message === 'string') {\n                    error.message += `\\nwhile loading \"${data[1]}\" from ${data[2]}`;\n                }\n                webpackRequire.m[id] = ()=>{\n                    throw error;\n                };\n                data.p = 0;\n            };\n            const handleFunction = (fn, arg1, arg2, d, next, first)=>{\n                try {\n                    const promise = fn(arg1, arg2);\n                    if (promise && promise.then) {\n                        const p = promise.then((result)=>next(result, d), onError);\n                        if (first) {\n                            promises.push(data.p = p);\n                        } else {\n                            return p;\n                        }\n                    } else {\n                        return next(promise, d, first);\n                    }\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            const onExternal = (external, _, first)=>external ? handleFunction(webpackRequire.I, data[0], 0, external, onInitialized, first) : onError();\n            // eslint-disable-next-line no-var\n            var onInitialized = (_, external, first)=>handleFunction(external.get, data[1], getScope, 0, onFactory, first);\n            // eslint-disable-next-line no-var\n            var onFactory = (factory)=>{\n                data.p = 1;\n                webpackRequire.m[id] = (module)=>{\n                    module.exports = factory();\n                };\n            };\n            const onRemoteLoaded = ()=>{\n                try {\n                    const remoteName = sdk.decodeName(remoteInfos[0].name, sdk.ENCODE_NAME_PREFIX);\n                    const remoteModuleName = remoteName + data[1].slice(1);\n                    return webpackRequire.federation.instance.loadRemote(remoteModuleName, {\n                        loadFactory: false,\n                        from: 'build'\n                    });\n                } catch (error) {\n                    onError(error);\n                }\n            };\n            const useRuntimeLoad = remoteInfos.length === 1 && constant.FEDERATION_SUPPORTED_TYPES.includes(remoteInfos[0].externalType) && remoteInfos[0].name;\n            if (useRuntimeLoad) {\n                handleFunction(onRemoteLoaded, data[2], 0, 0, onFactory, 1);\n            } else {\n                handleFunction(webpackRequire, data[2], 0, 0, onExternal, 1);\n            }\n        });\n    }\n}\n\nfunction consumes(options) {\n    const { chunkId, promises, chunkMapping, installedModules, moduleToHandlerMapping, webpackRequire } = options;\n    attachShareScopeMap(webpackRequire);\n    if (webpackRequire.o(chunkMapping, chunkId)) {\n        chunkMapping[chunkId].forEach((id)=>{\n            if (webpackRequire.o(installedModules, id)) {\n                return promises.push(installedModules[id]);\n            }\n            const onFactory = (factory)=>{\n                installedModules[id] = 0;\n                webpackRequire.m[id] = (module)=>{\n                    delete webpackRequire.c[id];\n                    module.exports = factory();\n                };\n            };\n            const onError = (error)=>{\n                delete installedModules[id];\n                webpackRequire.m[id] = (module)=>{\n                    delete webpackRequire.c[id];\n                    throw error;\n                };\n            };\n            try {\n                const federationInstance = webpackRequire.federation.instance;\n                if (!federationInstance) {\n                    throw new Error('Federation instance not found!');\n                }\n                const { shareKey, getter, shareInfo } = moduleToHandlerMapping[id];\n                const promise = federationInstance.loadShare(shareKey, {\n                    customShareInfo: shareInfo\n                }).then((factory)=>{\n                    if (factory === false) {\n                        return getter();\n                    }\n                    return factory;\n                });\n                if (promise.then) {\n                    promises.push(installedModules[id] = promise.then(onFactory).catch(onError));\n                } else {\n                    // @ts-ignore maintain previous logic\n                    onFactory(promise);\n                }\n            } catch (e) {\n                onError(e);\n            }\n        });\n    }\n}\n\nfunction initializeSharing({ shareScopeName, webpackRequire, initPromises, initTokens, initScope }) {\n    if (!initScope) initScope = [];\n    const mfInstance = webpackRequire.federation.instance;\n    // handling circular init calls\n    var initToken = initTokens[shareScopeName];\n    if (!initToken) initToken = initTokens[shareScopeName] = {\n        from: mfInstance.name\n    };\n    if (initScope.indexOf(initToken) >= 0) return;\n    initScope.push(initToken);\n    const promise = initPromises[shareScopeName];\n    if (promise) return promise;\n    var warn = (msg)=>typeof console !== 'undefined' && console.warn && console.warn(msg);\n    var initExternal = (id)=>{\n        var handleError = (err)=>warn('Initialization of sharing external failed: ' + err);\n        try {\n            var module = webpackRequire(id);\n            if (!module) return;\n            var initFn = (module)=>module && module.init && // @ts-ignore compat legacy mf shared behavior\n                module.init(webpackRequire.S[shareScopeName], initScope);\n            if (module.then) return promises.push(module.then(initFn, handleError));\n            var initResult = initFn(module);\n            // @ts-ignore\n            if (initResult && typeof initResult !== 'boolean' && initResult.then) // @ts-ignore\n            return promises.push(initResult['catch'](handleError));\n        } catch (err) {\n            handleError(err);\n        }\n    };\n    const promises = mfInstance.initializeSharing(shareScopeName, {\n        strategy: mfInstance.options.shareStrategy,\n        initScope,\n        from: 'build'\n    });\n    attachShareScopeMap(webpackRequire);\n    const bundlerRuntimeRemotesOptions = webpackRequire.federation.bundlerRuntimeOptions.remotes;\n    if (bundlerRuntimeRemotesOptions) {\n        Object.keys(bundlerRuntimeRemotesOptions.idToRemoteMap).forEach((moduleId)=>{\n            const info = bundlerRuntimeRemotesOptions.idToRemoteMap[moduleId];\n            const externalModuleId = bundlerRuntimeRemotesOptions.idToExternalAndNameMapping[moduleId][2];\n            if (info.length > 1) {\n                initExternal(externalModuleId);\n            } else if (info.length === 1) {\n                const remoteInfo = info[0];\n                if (!constant.FEDERATION_SUPPORTED_TYPES.includes(remoteInfo.externalType)) {\n                    initExternal(externalModuleId);\n                }\n            }\n        });\n    }\n    if (!promises.length) {\n        return initPromises[shareScopeName] = true;\n    }\n    return initPromises[shareScopeName] = Promise.all(promises).then(()=>initPromises[shareScopeName] = true);\n}\n\nfunction handleInitialConsumes(options) {\n    const { moduleId, moduleToHandlerMapping, webpackRequire } = options;\n    const federationInstance = webpackRequire.federation.instance;\n    if (!federationInstance) {\n        throw new Error('Federation instance not found!');\n    }\n    const { shareKey, shareInfo } = moduleToHandlerMapping[moduleId];\n    try {\n        return federationInstance.loadShareSync(shareKey, {\n            customShareInfo: shareInfo\n        });\n    } catch (err) {\n        console.error('loadShareSync failed! The function should not be called unless you set \"eager:true\". If you do not set it, and encounter this issue, you can check whether an async boundary is implemented.');\n        console.error('The original error message is as follows: ');\n        throw err;\n    }\n}\nfunction installInitialConsumes(options) {\n    const { moduleToHandlerMapping, webpackRequire, installedModules, initialConsumes } = options;\n    initialConsumes.forEach((id)=>{\n        webpackRequire.m[id] = (module)=>{\n            // Handle scenario when module is used synchronously\n            installedModules[id] = 0;\n            delete webpackRequire.c[id];\n            const factory = handleInitialConsumes({\n                moduleId: id,\n                moduleToHandlerMapping,\n                webpackRequire\n            });\n            if (typeof factory !== 'function') {\n                throw new Error(`Shared module is not available for eager consumption: ${id}`);\n            }\n            module.exports = factory();\n        };\n    });\n}\n\nfunction initContainerEntry(options) {\n    const { webpackRequire, shareScope, initScope, shareScopeKey, remoteEntryInitOptions } = options;\n    if (!webpackRequire.S) return;\n    if (!webpackRequire.federation || !webpackRequire.federation.instance || !webpackRequire.federation.initOptions) return;\n    const federationInstance = webpackRequire.federation.instance;\n    var name = shareScopeKey || 'default';\n    federationInstance.initOptions(polyfills._extends({\n        name: webpackRequire.federation.initOptions.name,\n        remotes: []\n    }, remoteEntryInitOptions));\n    federationInstance.initShareScopeMap(name, shareScope, {\n        hostShareScopeMap: (remoteEntryInitOptions == null ? void 0 : remoteEntryInitOptions.shareScopeMap) || {}\n    });\n    if (webpackRequire.federation.attachShareScopeMap) {\n        webpackRequire.federation.attachShareScopeMap(webpackRequire);\n    }\n    if (typeof webpackRequire.federation.prefetch === 'function') {\n        webpackRequire.federation.prefetch();\n    }\n    // @ts-ignore\n    return webpackRequire.I(name, initScope);\n}\n\nconst federation = {\n    runtime: runtime__namespace,\n    instance: undefined,\n    initOptions: undefined,\n    bundlerRuntime: {\n        remotes,\n        consumes,\n        I: initializeSharing,\n        S: {},\n        installInitialConsumes,\n        initContainerEntry\n    },\n    attachShareScopeMap,\n    bundlerRuntimeOptions: {}\n};\n\nmodule.exports = federation;\n","'use strict';\n\nfunction _extends() {\n    _extends = Object.assign || function assign(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source)if (Object.prototype.hasOwnProperty.call(source, key)) target[key] = source[key];\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\n\nexports._extends = _extends;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst runtimeStore = {\n    sharedPackagesFromDev: {},\n};\nif (process.env.NX_MF_DEV_REMOTES) {\n    // process.env.NX_MF_DEV_REMOTES is replaced by an array value via DefinePlugin, even though the original value is a stringified array.\n    runtimeStore.devRemotes = process.env\n        .NX_MF_DEV_REMOTES;\n}\nconst nxRuntimeLibraryControlPlugin = function () {\n    return {\n        name: 'nx-runtime-library-control-plugin',\n        beforeInit(args) {\n            runtimeStore.name = args.options.name;\n            return args;\n        },\n        resolveShare: (args) => {\n            const { shareScopeMap, scope, pkgName, version, GlobalFederation } = args;\n            const originalResolver = args.resolver;\n            args.resolver = function () {\n                if (!runtimeStore.sharedPackagesFromDev[pkgName]) {\n                    if (!GlobalFederation.__INSTANCES__) {\n                        return originalResolver();\n                    }\n                    else if (!runtimeStore.devRemotes) {\n                        return originalResolver();\n                    }\n                    const devRemoteInstanceToUse = GlobalFederation.__INSTANCES__.find((instance) => instance.options.shared[pkgName] &&\n                        runtimeStore.devRemotes.find((dr) => instance.name === dr));\n                    if (!devRemoteInstanceToUse) {\n                        return originalResolver();\n                    }\n                    runtimeStore.sharedPackagesFromDev[pkgName] =\n                        devRemoteInstanceToUse.name;\n                }\n                const remoteInstanceName = runtimeStore.sharedPackagesFromDev[pkgName];\n                const remoteInstance = GlobalFederation.__INSTANCES__.find((instance) => instance.name === remoteInstanceName);\n                try {\n                    const remotePkgInfo = remoteInstance.options.shared[pkgName].find((shared) => shared.from === remoteInstanceName);\n                    remotePkgInfo.useIn.push(runtimeStore.name);\n                    remotePkgInfo.useIn = Array.from(new Set(remotePkgInfo.useIn));\n                    shareScopeMap[scope][pkgName][version] = remotePkgInfo;\n                    return remotePkgInfo;\n                }\n                catch {\n                    return originalResolver();\n                }\n            };\n            return args;\n        },\n    };\n};\nexports.default = nxRuntimeLibraryControlPlugin;\n","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };"],"names":["Logger","logger","l","getResourceUrl","a","getSignalFromManifest","M","MFDataPrefetch","loadingArray","strategy","sharedFlag","prefetchPlugin","name","initContainer","options","remoteSnapshot","remoteInfo","id","origin","snapshot","prefetchOptions","remote","signal","Error","instance","getInstance","prefetchUrl","prefetchEntry","exist","find","loading","promise","loadEntry","then","_asyncToGenerator","projectExports","getProjectExports","Promise","resolve","exports","getExposeExports","info","performance","now","result","Object","keys","map","k","value","prefetch","functionId","push","afterResolve","inited","some","index","findIndex","splice","onLoad","_loadingArray_find","prefetchValue","all","forEach","memorize","beforeLoadShare","shareInfo","default","getRemoteInfo","getRemoteEntry","loadScript","b","getPrefetchId","c","compatGetPrefetchId","_globalThis","_globalThis___FEDERATION__","___FEDERATION__","globalThis","__FEDERATION__","___PREFETCH__","__PREFETCH__","entryLoading","Map","__PREFETCH_EXPORTS__","global","get","entry","_this","_options","buildVersion","globalName","uniqueKey","module","moduleCache","remoteEntryExports","undefined","_globalThis___FEDERATION_____PREFETCH_____PREFETCH_EXPORTS__","_exports","length","exportsPromiseFn","exportsPromise","memory","key","exportVal","reduce","memo","current","toLocaleLowerCase","endsWith","memorizeExports","prefetchId","compatId","prefetchExports","refetchParams","prefetchResult","memorizeId","prefetchMemory","checkOutdate","executePrefetch","set","markOutdate","markOptions","isOutdate","recordOutdate","outdateOptions","cacheStrategy","constructor","encodeName","MFPrefetchCommon","getScope","identifier","prefetchInterface","g","sharedStrategy","beforeInit","args","userOptions","shared","sharedKey","sharedConfigs","arraySharedConfigs","Array","isArray","s","console","warn","require","polyfills","sdk","share","matchRemoteWithNameAndExpose","remotes","isNameMatched","startsWith","expose","replace","pkgNameOrAlias","isAliasMatched","alias","exposeWithAlias","matchRemote","nameOrAlias","registerPlugins$1","plugins","hookInstances","globalPlugins","getGlobalHostPlugins","plugin","item","hookInstance","applyPlugin","loadEsmEntry","_x","_loadEsmEntry","apply","arguments","reject","Function","e","loadSystemJsEntry","_x2","_loadSystemJsEntry","loadEntryScript","_x3","_loadEntryScript","createScriptHook","entryExports","getRemoteEntryExports","attrs","url","res","emit","HTMLScriptElement","remoteEntryKey","assert","catch","loadEntryDom","_x4","_loadEntryDom","entryGlobalName","type","loadEntryNode","_x5","_loadEntryNode","loadScriptNode","getRemoteEntryUniqueKey","composeKeyWithSeparator","_x6","_getRemoteEntry","globalLoading","loadEntryHook","remoteHandler","hooks","lifecycle","loaderHook","createScript","isBrowserEnv","_extends","DEFAULT_REMOTE_TYPE","shareScope","DEFAULT_SCOPE","Module","getEntry","host","safeToString","_this2","loadFactory","localShareScopeMap","shareScopeMap","remoteShareScope","initScope","remoteEntryInitOptions","version","defineProperty","enumerable","initContainerOptions","beforeInitContainer","init","error","lib","moduleFactory","getFMId","wrapModuleFactory","wraperFactory","exposeContent","defineModuleId","isExtensible","getOwnPropertyDescriptor","Symbol","for","SyncHook","on","fn","listeners","add","once","self","wrapper","remove","data","size","delete","removeAll","clear","Set","AsyncHook","ls","from","i","call","prev","checkReturnData","originalData","returnedData","isObject","SyncWaterfallHook","tempData","onerror","AsyncWaterfallHook","processError","prevData","PluginSystem","isPlainObject","pluginName","registerPlugins","pluginLife","removePlugin","inherit","hookName","lifecycleKeys","defaultPreloadArgs","preloadConfig","resourceCategory","depsRemote","formatPreloadArgs","preloadArgs","normalizePreloadExposes","exposes","preloadAssets","assets","useLinkPreload","cssAssets","jsAssetsWithoutEntry","entryAssets","inBrowser","asset","moduleInfo","defaultAttrs","rel","as","crossorigin","cssUrl","link","cssEl","needAttach","createLink","cb","createLinkHook","HTMLLinkElement","document","head","appendChild","needDeleteLink","jsUrl","linkEl","fetchpriority","script","scriptEl","needDeleteScript","assignRemoteInfo","remoteEntryInfo","getRemoteEntryInfoFromSnapshot","entryUrl","snapshotPlugin","isRemoteInfoWithEntry","isPureRemoteEntry","globalSnapshot","snapshotHandler","loadRemoteSnapshotInfo","preloadOptions","generatePreloadAssets","splitId","splitInfo","split","traverseModuleInfo","traverse","isRoot","snapshotValue","getInfoWithoutType","effectiveRemoteSnapshot","isManifestProvider","remotesInfo","remoteKeys","subRemoteInfo","remoteValue","matchedVersion","jsAssets","loadedSharedJsAssets","loadedSharedCssAssets","rootPreloadConfig","moduleInfoSnapshot","findPreloadConfig","remoteConfig","remoteEntryUrl","remoteEntryType","moduleAssetsInfo","modules","normalizedPreloadExposes","_moduleInfoSnapshot_modules","moduleAssetInfo","indexOf","moduleName","handleAssets","assetsRes","filter","assetsLength","assetsInfo","exposeFullPath","handlePreloadModule","preloaded","getPreloaded","css","async","sync","js","setPreloaded","collectSharedAssets","snapshotShared","registeredShared","getRegisteredShare","sharedName","sharedHandler","resolveShare","_options_shared","shareInfos","sharedOptions","arrayShareInfo","arrayOptions","needPreloadJsAssets","has","needPreloadCssAssets","generatePreloadAssetsPlugin","getGlobalRemoteInfo","hostGlobalSnapshot","getGlobalSnapshotInfoByModuleInfo","globalRemoteInfo","getGlobalSnapshot","SnapshotHandler","loadSnapshot","_this3","HostInstance","globalRemoteSnapshot","globalSnapshotRes","_this4","beforeLoadRemoteSnapshot","hostSnapshot","remoteEntry","addGlobalSnapshot","ssrRemoteEntry","moduleSnapshot","getManifestJson","setGlobalSnapshotInfoByModuleInfo","remoteSnapshotRes","loadRemoteSnapshot","JSON","stringify","manifestUrl","extraOptions","_this5","getManifest","_ref2","manifestJson","manifestCache","fetch","Response","json","metaData","err","manifestLoading","asyncLoadProcess","_ref3","generateSnapshotFromManifest","loadingHostSnapshot","Global","__MANIFEST_LOADING__","SharedHandler","registerShared","globalOptions","formatShareConfigs","sharedKeys","sharedVals","sharedVal","setShared","pkgName","loaded","loadShare","_this6","getTargetSharedOptions","scope","_ref4","initializeSharing","_x7","loadShareRes","shareInfoRes","addUseIn","useIn","addUniqueItem","factory","_ref5","gShared","customShareInfo","_ref6","shareScopeName","promises","initTokens","initToken","hostName","register","_activeVersion_shareConfig","eager","versions","activeVersion","activeVersionEager","Boolean","shareConfig","initFn","mod","initRemoteModule","_ref7","getRemoteModuleAndOptions","errorLoadRemote","_x8","shareName","sharedArr","includes","shareStrategy","loadShareSync","initShareScopeMap","scopeName","initContainerShareScopeMap","hostShareScopeMap","_object_without_properties_loose","scopes","sc","_setGlobalShareScopeMap","hostOptions","globalShareScopeMap","getGlobalShareScope","RemoteHandler","formatAndRegisterRemote","userRemotes","registerRemote","force","setIdToRemoteMap","remoteMatchInfo","idToRemoteMap","idWithAlias","idWithName","loadRemote","_this7","moduleOptions","idRes","moduleOrFactory","moduleWrapper","exposeModule","exposeModuleFactory","moduleInstance","failOver","preloadRemote","_this8","beforePreloadRemote","preloadOps","_ref8","ops","_x9","registerRemotes","_this9","loadRemoteArgs","beforeRequest","remoteSplitInfo","rawRemote","matchInfo","targetRemotes","normalizeRemote","findEqual","_item_alias","URL","window","location","href","beforeRegisterRemote","registeredRemote","messages","removeRemote","join","remoteIndex","loadedModule","_Object_getOwnPropertyDescriptor","configurable","remoteEntryUniqueKey","remoteInsId","remoteInsIndex","__INSTANCES__","ins","remoteIns","isAllSharedNotUsed","needDeleteKeys","instId","shareScopeVal","sharedPkgs","shareVersion","usedHostName","insId","_globalShareScopeMap_insId_shareScope_shareName","_globalShareScopeMap_insId_shareScope","_globalShareScopeMap_insId","remoteKey","log","afterPreloadRemote","FederationHost","initOptions","formatOptions","_this10","initRawContainer","container","_this11","_this12","userOptionsRes","globalOptionsRes","handledShared","optionsRes","pluginRes","getModuleInfo","defaultOptions","getBuilderId","FederationInstance","getGlobalFederationInstance","FederationConstructor","getGlobalFederationConstructor","setGlobalFederationInstance","loadRemote1","loadShare1","loadShareSync1","setGlobalFederationConstructor","registerGlobalPlugins","assign","target","source","prototype","hasOwnProperty","excluded","sourceKeys","FEDERATION_BUILD_IDENTIFIER","LOG_CATEGORY","condition","msg","message","arr","val","objectToString","toString","defaultRemoteEntryInfo","ssrRemoteEntryType","nativeGlobal","definePropertyGlobalVal","writable","includeOwnProperty","__GLOBAL_LOADING_REMOTE_ENTRY__","setGlobalDefaultVal","_target___FEDERATION__","_target___FEDERATION__1","_target___FEDERATION__2","_target___FEDERATION__3","_target___FEDERATION__4","_target___FEDERATION__5","__VMOK__","__GLOBAL_PLUGIN__","__SHARE__","__PRELOADED_MAP__","___GLOBAL_PLUGIN__","___INSTANCES__","_moduleInfo","___SHARE__","___MANIFEST_LOADING__","___PRELOADED_MAP__","resetFederationGlobalInfo","buildId","GMInstance","__DEBUG_CONSTRUCTOR__","isDebug","isDebugMode","__DEBUG_CONSTRUCTOR_VERSION__","keyRes","targetKeys","targetKey","targetTypeOrName","_","nKey","typeWithKeyRes","getTargetSnapshotInfoByModuleInfo","moduleKey","resModuleInfo","moduleKeyWithoutVersion","getModuleInfoWithoutVersion","moduleDetailInfo","moduleInfos","p","buildIdentifier","build","numericIdentifier","numericIdentifierLoose","nonNumericIdentifier","preReleaseIdentifierLoose","preReleaseLoose","preReleaseIdentifier","preRelease","xRangeIdentifier","xRangePlain","hyphenRange","mainVersionLoose","loosePlain","gtlt","comparatorTrim","loneTilde","tildeTrim","loneCaret","caretTrim","star","caret","mainVersion","fullPlain","tilde","xRange","comparator","gte0","parseRegex","RegExp","isXVersion","toLowerCase","pipe","fns","x","v","f","extractComparator","comparatorString","match","combineVersion","major","minor","patch","parseHyphen","range","_range","fromMajor","fromMinor","fromPatch","_fromPreRelease","_fromBuild","to","toMajor","toMinor","toPatch","toPreRelease","Number","trim","parseComparatorTrim","parseTildeTrim","parseCaretTrim","parseCarets","rangeVersion","parseTildes","parseXRanges","ret","isXMajor","isXMinor","isXPatch","parseStar","parseGTE0","compareAtom","rangeAtom","versionAtom","comparePreRelease","rangePreRelease","versionPreRelease","n","rangeElement","versionElement","compareVersion","eq","compare","operator","parseComparatorString","parseRange","satisfy","parsedRange","parsedComparator","comparators","extractedVersion","versionOperator","versionMajor","versionMinor","versionPatch","extractedComparator","rangeOperator","rangeMajor","rangeMinor","rangePatch","formatShare","shareArgs","_shareArgs_version","_shareArgs_scope","_shareArgs_strategy","deps","requiredVersion","singleton","strictVersion","arrayShareArgs","shareKey","newUserSharedOptions","isSameVersion","versionLt","transformInvalidVersion","isNumberVersion","isNaN","splitArr","validVersion","findVersion","shareVersionMap","callback","cur","isLoaded","findSingletonVersionOrderByVersion","findSingletonVersionOrderByLoaded","getFindShareFunction","findShareFunction","maxOrSingletonVersion","defaultResolver","versionKey","versionValue","entries","params","GlobalFederation","resolver","resolveShared","maxVersion","_extraOptions_resolver","FederationModuleManifest","MANIFEST_EXT","BROWSER_LOG_KEY","BROWSER_LOG_VALUE","NameTransformSymbol","AT","HYPHEN","SLASH","NameTransformMap","EncodedNameTransformMap","SEPARATOR","ManifestFileName","StatsFileName","MFModuleType","NPM","APP","MODULE_DEVTOOL_IDENTIFIER","ENCODE_NAME_PREFIX","TEMP_DIR","globalKey","library","exportsKey","fileName","ContainerPlugin","freeze","__proto__","ContainerReferencePlugin","ModuleFederationPlugin","SharePlugin","process","env","FEDERATION_DEBUG","getProcessEnv","DEBUG_LOG","safeToString$1","safeGetLocalStorageItem","localStorage","getItem","enable","argsToString","logOriginalInfo","parseEntry","str","devVerOrUrl","separator","strSplit","devVersionOrUrl","defaultVersion","isEntry","versionOrEntryArr","slice","versionOrEntry","sum","prefix","withExt","ext","decodeName","decodedName","generateExposeFilename","exposeName","generateShareFilename","sourceUrl","publicPath","getPublicPath","simpleJoinRemoteEntry","rPath","rName","transformPath","strWithoutSlash","transformedPath","inferAutoPublicPath","manifest","_manifest_metaData","_manifest_metaData1","overrides","overridesKeys","_manifest_remotes","next","federationContainerName","path","remoteEntryPath","remoteEntryName","types","remoteTypes","buildInfo","basicRemoteSnapshot","remoteTypesZip","zip","remoteTypesAPI","api","modulePath","prefetchEntryType","fullSSRRemoteEntry","safeWrapper","_safeWrapper","disableWarn","isStaticResourcesEqual","url1","url2","REG_EXP","relativeUrl1","relativeUrl2","timeout","timeoutId","scripts","getElementsByTagName","scriptSrc","getAttribute","createElement","src","createScriptRes","setAttribute","onScriptComplete","_ref","event","_info_cb","clearTimeout","onload","parentNode","removeChild","_info_cb1","_info_cb2","bind","setTimeout","links","linkHref","linkRef","createLinkRes","onLinkComplete","_reject","importNodeModule","importModule","loadNodeFetch","fetchModule","lazyLoaderHookFetch","input","loaderHooks","__webpack_require__","federation","hook","fetchFunction","createScriptNode","hookResult","urlObj","getFetch","handleScriptFetch","_vm_constants","text","vm","scriptContext","urlDirname","pathname","filename","basename","_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER","Script","importModuleDynamically","constants","USE_MAIN_CONTEXT_DEFAULT_LOADER","runInThisContext","eval","exportedInterface","loadModule","evaluate","namespace","_x10","_info_attrs","_info_attrs1","_x11","_x12","_loadModule","fetch1","response","code","SourceTextModule","specifier","resolvedUrl","_x13","_x14","_ref9","_x15","normalizeOptions","enableDefault","containerPlugin","containerReferencePlugin","moduleFederationPlugin","sharePlugin","FEDERATION_SUPPORTED_TYPES","runtime","constant","_interopNamespaceDefault","create","d","runtime__namespace","attachShareScopeMap","webpackRequire","S","hasAttachShareScopeMap","chunkId","chunkMapping","idToExternalAndNameMapping","o","R","remoteInfos","onError","m","handleFunction","arg1","arg2","first","onExternal","external","I","onInitialized","onFactory","onRemoteLoaded","remoteName","remoteModuleName","useRuntimeLoad","externalType","consumes","installedModules","moduleToHandlerMapping","federationInstance","getter","initPromises","mfInstance","initExternal","handleError","initResult","bundlerRuntimeRemotesOptions","bundlerRuntimeOptions","moduleId","externalModuleId","handleInitialConsumes","installInitialConsumes","initialConsumes","initContainerEntry","shareScopeKey","bundlerRuntime","runtimeStore","sharedPackagesFromDev","NX_MF_DEV_REMOTES","devRemotes","nxRuntimeLibraryControlPlugin","originalResolver","devRemoteInstanceToUse","dr","remoteInstanceName","remoteInstance","remotePkgInfo"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]}